# DomainFlow Frontend Environment Configuration
# 
# IMPORTANT: This application enforces strict environment-based configuration.
# NO hardcoded localhost or fallback URLs are allowed to prevent production bugs.
# All environment variables marked as REQUIRED must be set before running the application.

# =============================================================================
# REQUIRED: Backend API Configuration
# =============================================================================

# Backend API base URL (REQUIRED)
# Must include the full URL with protocol, host, port, and /api/v2 path
# Examples:
#   Development: http://localhost:8080/api/v2
#   Production:  https://api.domainflow.com/api/v2
#   Staging:     https://api-staging.domainflow.com/api/v2
NEXT_PUBLIC_API_URL=http://your-backend-host:8080/api/v2

# Backend WebSocket URL (REQUIRED)
# Must include the full WebSocket URL with protocol, host, port, and path
# Examples:
#   Development: ws://localhost:8080/api/v2/ws
#   Production:  wss://api.domainflow.com/api/v2/ws
#   Staging:     wss://api-staging.domainflow.com/api/v2/ws
NEXT_PUBLIC_WS_URL=ws://your-backend-host:8080/api/v2/ws

# =============================================================================
# OPTIONAL: Frontend Configuration
# =============================================================================

# Frontend application URL (Optional but recommended)
# Used for WebSocket origin validation and CORS configuration
# Examples:
#   Development: http://localhost:3000
#   Production:  https://app.domainflow.com
#   Staging:     https://app-staging.domainflow.com
NEXT_PUBLIC_APP_URL=http://your-frontend-host:3000

# Production domain (Optional)
# Additional domain for WebSocket origin validation
# Example: https://domainflow.com
NEXT_PUBLIC_PRODUCTION_DOMAIN=https://your-production-domain.com

# =============================================================================
# Development Notes
# =============================================================================

# 1. COPY THIS FILE: cp .env.example .env.local
# 2. UPDATE VALUES: Replace 'your-*-host' with actual hostnames
# 3. NO LOCALHOST IN PRODUCTION: Ensure production values don't use localhost
# 4. VALIDATE CONFIG: Run 'npm run validate:env' to check configuration
# 
# The application will refuse to start if required variables are missing
# or contain localhost values in production environments.

# =============================================================================
# Docker/Container Environment Examples
# =============================================================================

# When using Docker Compose:
# NEXT_PUBLIC_API_URL=http://backend:8080/api/v2
# NEXT_PUBLIC_WS_URL=ws://backend:8080/api/v2/ws

# When using Kubernetes:
# NEXT_PUBLIC_API_URL=http://domainflow-backend-service:8080/api/v2
# NEXT_PUBLIC_WS_URL=ws://domainflow-backend-service:8080/api/v2/ws

# =============================================================================
# Phase 5 Feature Flags
# =============================================================================

# Server timeline integration (optional remote snapshot fetching)
NEXT_PUBLIC_ENABLE_SERVER_TIMELINE=false

# Portfolio metrics (multi-campaign analytics)
NEXT_PUBLIC_ENABLE_PORTFOLIO_METRICS=false

# Anomaly detection rules
NEXT_PUBLIC_ENABLE_ANOMALY_RULES=true

# Advanced recommendation explanations
NEXT_PUBLIC_ENABLE_ADV_REC_EXPLAIN=true

# Export tools (JSON/CSV/bundle)
NEXT_PUBLIC_ENABLE_EXPORT_TOOLS=true

# EventSource stream pooling
NEXT_PUBLIC_STREAM_POOLING=true

# Telemetry sampling (0.0-1.0 fraction)
NEXT_PUBLIC_METRICS_TELEMETRY_SAMPLING=0.25

# =============================================================================
# Phase 6 Feature Flags (Predictive Forecasting, Cohort Analysis, ML Ranking)
# =============================================================================

# Enable forecast fetching/computation
NEXT_PUBLIC_ENABLE_FORECASTS=true

# Enable relative day alignment & cohort panel
NEXT_PUBLIC_ENABLE_COHORT_COMPARISON=false

# Apply benchmark-based normalization option
NEXT_PUBLIC_ENABLE_NORMALIZATION=false

# Prefer server ML recommendations when available
NEXT_PUBLIC_ENABLE_ML_RECOMMENDATIONS=false

# Show confidence intervals (sparkline shading)
NEXT_PUBLIC_ENABLE_FORECAST_BANDS=true

# Default forecast horizon length (days)
NEXT_PUBLIC_FORECAST_HORIZON_DAYS=7

# =============================================================================
# Security Notes
# =============================================================================

# - Never commit .env.local or production .env files to version control
# - Use secrets management in production (Kubernetes secrets, Docker secrets, etc.)
# - Ensure WebSocket URLs use WSS (wss://) in production for security
# - Verify CORS and CSP configurations match your domain setup