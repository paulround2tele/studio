Building application...
go build -buildvcs=false -o bin/apiserver ./cmd/apiserver
Running application from binary...
./bin/apiserver
2025/08/01 21:32:50 API Validator initialized and custom validations registered.
2025/08/01 21:32:50 Starting DomainFlow API Server...
2025/08/01 21:32:50 Successfully loaded environment variables from ../.env
2025/08/01 21:32:50 Config: Attempting to load main config from: config.json
2025/08/01 21:32:50 Optimization configuration initialized for environment: 
2025/08/01 21:32:50 Configuration loaded with environment overrides.
2025/08/01 21:32:50 Optimization enabled: true (phases: batch=true, service=true, external=true, caching=true)
2025/08/01 21:32:50 Global WebSocket broadcaster initialized and started.
2025/08/01 21:32:50 Initializing PostgreSQL database connection...
2025/08/01 21:32:50 Connecting to database: host=localhost port=5432 user=domainflow dbname=domainflow_production sslmode=disable
2025/08/01 21:32:50 Successfully connected to PostgreSQL database.
2025/08/01 21:32:50 PostgreSQL-backed stores initialized.
2025/08/01 21:32:50 âœ… [STATE_SYNC] CampaignStateService initialized with database access
2025/08/01 21:32:50 Campaign state service initialized for WebSocket state sync.
2025/08/01 21:32:50 ProxyManager: Initializing with 0 proxy entries.
2025/08/01 21:32:50 ProxyManager: Performing initial health checks for 0 supported proxies (timeout per proxy: 7s)...
2025/08/01 21:32:50 ProxyManager: Initialization and initial health checks complete. Total managed: 0, Initially active: 0
2025/08/01 21:32:50 ProxyManager initialized.
2025/08/01 21:32:50 HTTPValidator engine initialized.
2025/08/01 21:32:50 KeywordScanner engine initialized.
2025/08/01 21:32:50 DNSValidator engine initialized.
2025/08/01 21:32:50 ContentFetcher engine initialized.
2025/08/01 21:32:50 Using session configuration for environment: development (CookieSecure: false, CookieDomain: '', CookieName: 'domainflow_session')
2025/08/01 21:32:50 Session service initialized.
2025/08/01 21:32:50 Worker domain-gen-worker-1754083970 registered successfully
2025/08/01 21:32:50 EfficientWorkerPool initialized with 2 workers (min: 2, max: 16, queue: 1000)
2025/08/01 21:32:50 DomainGenerationService initialized with global offset tracking.
2025/08/01 21:32:50 DNSCampaignService initialized for service layer.
2025/08/01 21:32:50 HTTPKeywordCampaignService initialized for service layer.
2025/08/01 21:32:50 PhaseExecutionService initialized - Phase 2.5 & 3.9 direct engine integration complete.
2025/08/01 21:32:50 Worker Lino registered successfully
2025/08/01 21:32:50 CampaignWorkerService initialized.
2025/08/01 21:32:50 Main APIHandler initialized.
2025/08/01 21:32:50 CampaignOrchestratorAPIHandler initialized with standalone services support.
2025/08/01 21:32:50 WebSocketAPIHandler initialized.
2025/08/01 21:32:50 DistributedCacheManager: Initialized in-memory cache with 100MB limit
2025/08/01 21:32:50 DistributedCacheManager initialized with in-memory distributed caching.
2025/08/01 21:32:50 Redis cache for N+1 optimization disabled in configuration.
2025/08/01 21:32:50 Service factory initialized with optimization support (enabled: true)
2025/08/01 21:32:50 AuthHandler initialized with user profile caching.
2025/08/01 21:32:50 CachedSessionService initialized with distributed caching.
2025/08/01 21:32:50 High-performance cached auth middleware initialized.
2025/08/01 21:32:50 HealthCheckHandler initialized.
2025/08/01 21:32:50 DatabaseHandler initialized.
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

2025/08/01 21:32:50 Backend configured for development with CORS support
[GIN-debug] GET    /api/v2/ws                --> github.com/fntelecomllc/studio/backend/internal/api.(*WebSocketHandler).HandleConnections-fm (8 handlers)
2025/08/01 21:32:50 Registered WebSocket route under /api/v2/ws.
[GIN-debug] GET    /ping                     --> github.com/fntelecomllc/studio/backend/internal/api.PingHandlerGin (8 handlers)
[GIN-debug] GET    /api/openapi.yaml         --> main.main.(*RouterGroup).StaticFile.func55 (8 handlers)
[GIN-debug] HEAD   /api/openapi.yaml         --> main.main.(*RouterGroup).StaticFile.func55 (8 handlers)
2025/08/01 21:32:50 Registered OpenAPI 3.0 specification route under /api/openapi.yaml
[GIN-debug] POST   /api/v2/auth/login        --> github.com/fntelecomllc/studio/backend/internal/api.(*AuthHandler).Login-fm (9 handlers)
[GIN-debug] POST   /api/v2/auth/logout       --> github.com/fntelecomllc/studio/backend/internal/api.(*AuthHandler).Logout-fm (8 handlers)
[GIN-debug] POST   /api/v2/auth/refresh      --> github.com/fntelecomllc/studio/backend/internal/api.(*AuthHandler).RefreshSession-fm (8 handlers)
[GIN-debug] GET    /api/v2/auth/me           --> github.com/fntelecomllc/studio/backend/internal/api.(*AuthHandler).Me-fm (9 handlers)
[GIN-debug] POST   /api/v2/auth/change-password --> github.com/fntelecomllc/studio/backend/internal/api.(*AuthHandler).ChangePassword-fm (9 handlers)
2025/08/01 21:32:50 CampaignWorkerService [Lino]: Starting 5 workers (poll interval: 5s)...
2025/08/01 21:32:50 Registered authentication routes under /api/v2/auth
2025/08/01 21:32:50 Worker [Lino-4]: Started.
2025/08/01 21:32:50 Worker [Lino-2]: Started.
[GIN-debug] GET    /api/v2/health            --> github.com/fntelecomllc/studio/backend/internal/api.(*HealthCheckHandler).HandleHealthCheck-fm (8 handlers)
2025/08/01 21:32:50 Worker [Lino-1]: Started.
[GIN-debug] GET    /api/v2/health/ready      --> github.com/fntelecomllc/studio/backend/internal/api.(*HealthCheckHandler).HandleReadinessCheck-fm (8 handlers)
2025/08/01 21:32:50 Worker [Lino-3]: Started.
[GIN-debug] GET    /api/v2/health/live       --> github.com/fntelecomllc/studio/backend/internal/api.(*HealthCheckHandler).HandleLivenessCheck-fm (8 handlers)
2025/08/01 21:32:50 Worker [Lino-0]: Started.
2025/08/01 21:32:50 Registered API v2 health check routes: /api/v2/health, /api/v2/health/ready, /api/v2/health/live
2025/08/01 21:32:50 Authentication configured for session-only (offline mode)
[GIN-debug] GET    /api/v2/personas          --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).ListAllPersonasGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/personas          --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).CreatePersonaGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/personas/:id      --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetPersonaByIDGin-fm (10 handlers)
[GIN-debug] PUT    /api/v2/personas/:id      --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdatePersonaGin-fm (10 handlers)
[GIN-debug] DELETE /api/v2/personas/:id      --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).DeletePersonaGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/personas/:id/test --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).TestPersonaGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/personas/http/:id --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetHttpPersonaByIDGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/personas/dns/:id  --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetDnsPersonaByIDGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/proxies           --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).ListProxiesGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/proxies           --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).AddProxyGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/proxies/status    --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetProxyStatusesGin-fm (10 handlers)
[GIN-debug] PUT    /api/v2/proxies/:proxyId  --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateProxyGin-fm (10 handlers)
[GIN-debug] DELETE /api/v2/proxies/:proxyId  --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).DeleteProxyGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/proxies/:proxyId/test --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).TestProxyGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/proxies/:proxyId/health-check --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).ForceCheckSingleProxyGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/proxies/health-check --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).ForceCheckAllProxiesGin-fm (10 handlers)
[GIN-debug] PUT    /api/v2/proxies/bulk/update --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).BulkUpdateProxiesGin-fm (10 handlers)
[GIN-debug] DELETE /api/v2/proxies/bulk/delete --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).BulkDeleteProxiesGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/proxies/bulk/test --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).BulkTestProxiesGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/proxy-pools       --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).ListProxyPoolsGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/proxy-pools       --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).CreateProxyPoolGin-fm (10 handlers)
[GIN-debug] PUT    /api/v2/proxy-pools/:poolId --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateProxyPoolGin-fm (10 handlers)
[GIN-debug] DELETE /api/v2/proxy-pools/:poolId --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).DeleteProxyPoolGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/proxy-pools/:poolId/proxies --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).AddProxyToPoolGin-fm (10 handlers)
[GIN-debug] DELETE /api/v2/proxy-pools/:poolId/proxies/:proxyId --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).RemoveProxyFromPoolGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/dns        --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetDNSConfigGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/dns        --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateDNSConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/http       --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetHTTPConfigGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/http       --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateHTTPConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/worker     --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetWorkerConfigGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/worker     --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateWorkerConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/rate-limit --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetRateLimiterConfigGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/rate-limit --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateRateLimiterConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/auth       --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetAuthConfigGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/auth       --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateAuthConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/logging    --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetLoggingConfigGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/logging    --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateLoggingConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/proxy-manager --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetProxyManagerConfigGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/proxy-manager --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateProxyManagerConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/server     --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetServerConfigGin-fm (10 handlers)
[GIN-debug] PUT    /api/v2/config/server     --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateServerConfigGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/config/features   --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetFeatureFlagsGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/config/features   --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateFeatureFlagsGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/keyword-sets      --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).CreateKeywordSetGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/keyword-sets      --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).ListKeywordSetsGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/keyword-sets/:setId --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetKeywordSetGin-fm (10 handlers)
[GIN-debug] PUT    /api/v2/keyword-sets/:setId --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).UpdateKeywordSetGin-fm (10 handlers)
[GIN-debug] DELETE /api/v2/keyword-sets/:setId --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).DeleteKeywordSetGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/keyword-sets/:setId/rules --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).GetKeywordSetWithRulesGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/keyword-rules     --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).QueryKeywordRulesGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/extract/keywords  --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).BatchExtractKeywordsGin-fm (10 handlers)
[GIN-debug] GET    /api/v2/extract/keywords/stream --> github.com/fntelecomllc/studio/backend/internal/api.(*APIHandler).StreamExtractKeywordsGin-fm (10 handlers)
[GIN-debug] POST   /api/v2/database/query    --> github.com/fntelecomllc/studio/backend/internal/api.(*DatabaseHandler).HandleBulkDatabaseQuery-fm (10 handlers)
[GIN-debug] POST   /api/v2/database/stats    --> github.com/fntelecomllc/studio/backend/internal/api.(*DatabaseHandler).HandleBulkDatabaseStats-fm (10 handlers)
[GIN-debug] GET    /api/v2/broadcast-test    --> main.main.func2 (10 handlers)
2025/08/01 21:32:50 Registered WebSocket test broadcast route under /api/v2/broadcast-test.
[GIN-debug] GET    /api/v2/test-campaign-ws/:campaignId --> main.main.func3 (10 handlers)
2025/08/01 21:32:50 Registered WebSocket campaign test route under /api/v2/test-campaign-ws/:campaignId.
[GIN-debug] POST   /api/v2/campaigns/lead-generation --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).createLeadGenerationCampaign-fm (9 handlers)
[GIN-debug] GET    /api/v2/campaigns         --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).getCampaignsStandalone-fm (9 handlers)
[GIN-debug] POST   /api/v2/campaigns/:campaignId/phases/:phase/configure --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).configurePhaseStandalone-fm (9 handlers)
[GIN-debug] POST   /api/v2/campaigns/:campaignId/phases/:phase/start --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).startPhaseStandalone-fm (9 handlers)
[GIN-debug] GET    /api/v2/campaigns/:campaignId/phases/:phase/status --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).getPhaseStatusStandalone-fm (9 handlers)
[GIN-debug] GET    /api/v2/campaigns/:campaignId/progress --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).getCampaignProgressStandalone-fm (9 handlers)
[GIN-debug] POST   /api/v2/campaigns/domain-generation/pattern-offset --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).getPatternOffset-fm (9 handlers)
[GIN-debug] GET    /api/v2/campaigns/:campaignId/domains/status --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).getCampaignDomainsStatus-fm (9 handlers)
[GIN-debug] POST   /api/v2/campaigns/bulk/enriched-data --> github.com/fntelecomllc/studio/backend/internal/api.(*CampaignOrchestratorAPIHandler).getBulkEnrichedCampaignData-fm (9 handlers)
2025/08/01 21:32:50 Registered new campaign orchestration routes under /api/v2/campaigns.
2025/08/01 21:32:50 Generating OpenAPI specification using automatic reflection...
2025/08/01 21:32:50 Starting OpenAPI generation with Gin engine routes...
2025/08/01 21:32:50 Discovering business entities...
Scanning business entities in package: ./internal/models
Scanning business entities in package: ./internal/api
Scanning business entities in package: ./internal/services
Discovered 231 business entities
  - UserAPI (from models)
  - LoginResponseAPI (from models)
  - CampaignAPI (from models)
  - ConfigLock (from models)
  - ConfigVersion (from models)
  - ServiceArchitectureMetric (from models)
  - ServiceDependency (from models)
  - ArchitectureRefactorLog (from models)
  - CommunicationPattern (from models)
  - ServiceCapacityMetric (from models)
  - EventStoreRecord (from models)
  - EventProjection (from models)
  - CampaignStateEvent (from models)
  - CampaignStateSnapshot (from models)
  - CampaignStateTransition (from models)
  - User (from models)
  - Session (from models)
  - AuthAuditLog (from models)
  - RateLimit (from models)
  - LoginRequest (from models)
  - LoginResponse (from models)
  - ChangePasswordRequest (from models)
  - CreateUserRequest (from models)
  - UpdateUserRequest (from models)
  - AuthResult (from models)
  - SecurityContext (from models)
  - ErrorResponse (from models)
  - ConnectionPoolMetrics (from models)
  - QueryPerformanceReport (from models)
  - ConnectionPoolReport (from models)
  - DatabaseOptimizationRecommendation (from models)
  - PaginationPerformanceMetric (from models)
  - PerformanceThreshold (from models)
  - HttpPersonaConfig (from models)
  - HTTP2SettingsConfig (from models)
  - DnsPersonaConfig (from models)
  - PasswordResetToken (from models)
  - SecurityEvent (from models)
  - AuthorizationDecision (from models)
  - CampaignAccessGrant (from models)
  - CacheConfiguration (from models)
  - CacheEntry (from models)
  - CacheInvalidationLog (from models)
  - CacheInvalidation (from models)
  - CacheMetric (from models)
  - GeneralErrorResponse (from models)
  - DNSPhaseConfigRequest (from models)
  - HTTPPhaseConfigRequest (from models)
  - DNSConfigDetails (from models)
  - HTTPConfigDetails (from models)
  - Persona (from models)
  - Proxy (from models)
  - KeywordSet (from models)
  - KeywordRule (from models)
  - LeadGenerationCampaign (from models)
  - CampaignPhase (from models)
  - ExtractedContentItem (from models)
  - ExtractedContentAnalysis (from models)
  - LeadItem (from models)
  - DomainGenerationCampaignParams (from models)
  - NormalizedDomainGenerationParams (from models)
  - DomainGenerationPhaseConfigState (from models)
  - GeneratedDomain (from models)
  - DNSValidationCampaignParams (from models)
  - DNSValidationResult (from models)
  - HTTPKeywordCampaignParams (from models)
  - HTTPKeywordResult (from models)
  - AuditLog (from models)
  - CampaignJob (from models)
  - ProxyPool (from models)
  - ProxyPoolMembership (from models)
  - QueryPerformanceMetric (from models)
  - ResourceUtilizationMetric (from models)
  - CreateProxyRequest (from models)
  - UpdateProxyRequest (from models)
  - BulkUpdateProxiesRequest (from models)
  - BulkDeleteProxiesRequest (from models)
  - BulkTestProxiesRequest (from models)
  - BulkProxyOperationResponse (from models)
  - BulkProxyError (from models)
  - HealthStatus (from api)
  - Status (from api)
  - SystemInfo (from api)
  - APIResponse (from api)
  - ErrorInfo (from api)
  - PageInfo (from api)
  - RateLimitInfo (from api)
  - ProcessingInfo (from api)
  - KeywordExtractionRequestItem (from api)
  - BatchKeywordExtractionRequest (from api)
  - KeywordExtractionAPIResult (from api)
  - BatchKeywordExtractionResponse (from api)
  - KeywordRuleRequest (from api)
  - CreateKeywordSetRequest (from api)
  - UpdateKeywordSetRequest (from api)
  - KeywordSetResponse (from api)
  - StreamingResponseHandler (from api)
  - ProxyPoolRequest (from api)
  - PatternOffsetRequest (from api)
  - PatternOffsetResponse (from api)
  - SuccessMessageResponse (from api)
  - DeletionConfirmationResponse (from api)
  - HealthCheckResponse (from api)
  - TestResultResponse (from api)
  - DetailedTestResultResponse (from api)
  - DeletionResponse (from api)
  - ProxyStatusResponse (from api)
  - ProxyDetailsResponse (from api)
  - ProxyHealthCheckResponse (from api)
  - BulkHealthCheckResponse (from api)
  - CampaignOperationResponse (from api)
  - BulkCampaignDeleteResponse (from api)
  - ValidationOperationResponse (from api)
  - PersonaTestResponse (from api)
  - PersonaTestResultData (from api)
  - SessionResponse (from api)
  - UserPublicResponse (from api)
  - ServerConfigResponse (from api)
  - ServerConfigUpdateRequest (from api)
  - LoginSuccessResponse (from api)
  - SessionData (from api)
  - PasswordChangeResponse (from api)
  - SessionRefreshResponse (from api)
  - CampaignActionResponse (from api)
  - ValidationStartResponse (from api)
  - OffsetResponse (from api)
  - ProxyTestResponse (from api)
  - BulkProxyTestResponse (from api)
  - ProxyPoolDeleteResponse (from api)
  - ProxyPoolMembershipResponse (from api)
  - PersonaDeleteResponse (from api)
  - KeywordSetDeleteResponse (from api)
  - PingResponse (from api)
  - WebSocketErrorResponse (from api)
  - BulkDeleteResult (from api)
  - CampaignDetailsResponse (from api)
  - LeadGenerationCampaignResponse (from api)
  - PhaseProgressResponse (from api)
  - CampaignProgressResponse (from api)
  - CampaignData (from api)
  - CampaignParamsData (from api)
  - EnrichedCampaignData (from api)
  - ErrorContext (from api)
  - CampaignStartResponse (from api)
  - DNSValidationStartResponse (from api)
  - HTTPValidationStartResponse (from api)
  - DNSValidationAPIRequest (from api)
  - ProxyHealthCheckRequest (from api)
  - AddProxyToPoolRequest (from api)
  - BulkEnrichedDataRequest (from api)
  - BulkEnrichedDataResponse (from api)
  - BulkDomainsRequest (from api)
  - BulkDomainsResponse (from api)
  - BulkLogsRequest (from api)
  - BulkLogsResponse (from api)
  - BulkLeadsRequest (from api)
  - BulkLeadsResponse (from api)
  - BulkMetadata (from api)
  - BulkDatabaseQueryRequest (from api)
  - DatabaseQuery (from api)
  - BulkDatabaseQueryResponse (from api)
  - DatabaseQueryResult (from api)
  - BulkQueryMetadata (from api)
  - BulkDatabaseStatsRequest (from api)
  - BulkDatabaseStatsResponse (from api)
  - DatabaseStats (from api)
  - SchemaStats (from api)
  - TableStats (from api)
  - BulkStatsMetadata (from api)
  - PhaseConfigureRequest (from api)
  - DNSValidationConfig (from api)
  - HTTPValidationConfig (from api)
  - AnalysisConfig (from api)
  - PhaseStartRequest (from api)
  - CreatePersonaRequest (from api)
  - UpdatePersonaRequest (from api)
  - PersonaResponse (from api)
  - CampaignTransactionOptions (from services)
  - DNSPersonaGroup (from services)
  - DNSPerformanceMetrics (from services)
  - SessionData (from services)
  - SessionMetrics (from services)
  - DomainBatch (from services)
  - WorkerPoolMetrics (from services)
  - WorkerPoolConfig (from services)
  - ConfigManagerConfig (from services)
  - RuleQueryFilter (from services)
  - ConsistencyReport (from services)
  - UpdateCampaignRequest (from services)
  - CreateCampaignRequest (from services)
  - DomainGenerationParams (from services)
  - DnsValidationParams (from services)
  - HttpKeywordParams (from services)
  - CreateLeadGenerationCampaignRequest (from services)
  - GeneratedDomainsResponse (from services)
  - DNSValidationResultsResponse (from services)
  - HTTPKeywordResultsResponse (from services)
  - DNSValidationRequest (from services)
  - HTTPKeywordValidationRequest (from services)
  - BulkDeleteResult (from services)
  - CampaignDependencyInfo (from services)
  - CreateDomainGenerationCampaignRequest (from services)
  - DNSValidationParams (from services)
  - HTTPKeywordParams (from services)
  - HTTPValidationPhaseConfig (from services)
  - GenerateDomainsRequest (from services)
  - DomainGenerationProgress (from services)
  - DomainGenerationStats (from services)
  - LeadGenerationProgress (from services)
  - PhaseConfig (from services)
  - DomainGenerationPhaseConfig (from services)
  - DNSValidationPhaseConfig (from services)
  - HTTPKeywordValidationPhaseConfig (from services)
  - AnalysisPhaseConfig (from services)
  - PhaseProgress (from services)
  - PhaseStats (from services)
  - ContentAnalysisResult (from services)
  - CachedSessionConfig (from services)
  - CachedSessionData (from services)
  - StealthConfig (from services)
  - RandomizedDomain (from services)
  - StealthMetrics (from services)
  - TOTPSecret (from services)
  - MFAChallenge (from services)
  - MFAEnrollment (from services)
  - ServiceConfiguration (from services)
  - OptimizationStatus (from services)
  - OptimizationLevel (from services)
  - OptimizedHTTPClient (from services)
  - HTTPPerformanceMetrics (from services)
  - APIKey (from services)
2025/08/01 21:32:50 Found 231 business entities
Schema generator received 231 business entities
2025/08/01 21:32:50 Discovering routes using reflection...
Scanning package: ./internal/api
DEBUG: generateOperationID - handlerName=ListAllPersonasGin, funcName=ListAllPersonasGin
DEBUG: Removing standard suffixes from: ListAllPersonasGin
DEBUG: Removing Gin suffix from ListAllPersonasGin
DEBUG: Final operationId: listAllPersonas
DEBUG: generateOperationID - handlerName=CreatePersonaGin, funcName=CreatePersonaGin
DEBUG: Removing standard suffixes from: CreatePersonaGin
DEBUG: Removing Gin suffix from CreatePersonaGin
DEBUG: Final operationId: createPersona
DEBUG: generateOperationID - handlerName=GetPersonaByIDGin, funcName=GetPersonaByIDGin
DEBUG: Removing standard suffixes from: GetPersonaByIDGin
DEBUG: Removing Gin suffix from GetPersonaByIDGin
DEBUG: Final operationId: getPersonaByID
DEBUG: generateOperationID - handlerName=GetHttpPersonaByIDGin, funcName=GetHttpPersonaByIDGin
DEBUG: Removing standard suffixes from: GetHttpPersonaByIDGin
DEBUG: Removing Gin suffix from GetHttpPersonaByIDGin
DEBUG: Final operationId: getHttpPersonaByID
DEBUG: generateOperationID - handlerName=GetDnsPersonaByIDGin, funcName=GetDnsPersonaByIDGin
DEBUG: Removing standard suffixes from: GetDnsPersonaByIDGin
DEBUG: Removing Gin suffix from GetDnsPersonaByIDGin
DEBUG: Final operationId: getDnsPersonaByID
DEBUG: generateOperationID - handlerName=UpdatePersonaGin, funcName=UpdatePersonaGin
DEBUG: Removing standard suffixes from: UpdatePersonaGin
DEBUG: Removing Gin suffix from UpdatePersonaGin
DEBUG: Final operationId: updatePersona
DEBUG: generateOperationID - handlerName=DeletePersonaGin, funcName=DeletePersonaGin
DEBUG: Removing standard suffixes from: DeletePersonaGin
DEBUG: Removing Gin suffix from DeletePersonaGin
DEBUG: Final operationId: deletePersona
DEBUG: generateOperationID - handlerName=TestPersonaGin, funcName=TestPersonaGin
DEBUG: Removing standard suffixes from: TestPersonaGin
DEBUG: Removing Gin suffix from TestPersonaGin
DEBUG: Final operationId: testPersona
DEBUG: generateOperationID - handlerName=ListProxiesGin, funcName=ListProxiesGin
DEBUG: Removing standard suffixes from: ListProxiesGin
DEBUG: Removing Gin suffix from ListProxiesGin
DEBUG: Final operationId: listProxies
DEBUG: generateOperationID - handlerName=AddProxyGin, funcName=AddProxyGin
DEBUG: Removing standard suffixes from: AddProxyGin
DEBUG: Removing Gin suffix from AddProxyGin
DEBUG: Final operationId: addProxy
DEBUG: generateOperationID - handlerName=UpdateProxyGin, funcName=UpdateProxyGin
DEBUG: Removing standard suffixes from: UpdateProxyGin
DEBUG: Removing Gin suffix from UpdateProxyGin
DEBUG: Final operationId: updateProxy
DEBUG: generateOperationID - handlerName=DeleteProxyGin, funcName=DeleteProxyGin
DEBUG: Removing standard suffixes from: DeleteProxyGin
DEBUG: Removing Gin suffix from DeleteProxyGin
DEBUG: Final operationId: deleteProxy
DEBUG: generateOperationID - handlerName=GetProxyStatusesGin, funcName=GetProxyStatusesGin
DEBUG: Removing standard suffixes from: GetProxyStatusesGin
DEBUG: Removing Gin suffix from GetProxyStatusesGin
DEBUG: Final operationId: getProxyStatuses
DEBUG: generateOperationID - handlerName=ForceCheckSingleProxyGin, funcName=ForceCheckSingleProxyGin
DEBUG: Removing standard suffixes from: ForceCheckSingleProxyGin
DEBUG: Removing Gin suffix from ForceCheckSingleProxyGin
DEBUG: Final operationId: forceCheckSingleProxy
DEBUG: generateOperationID - handlerName=ForceCheckAllProxiesGin, funcName=ForceCheckAllProxiesGin
DEBUG: Removing standard suffixes from: ForceCheckAllProxiesGin
DEBUG: Removing Gin suffix from ForceCheckAllProxiesGin
DEBUG: Final operationId: forceCheckAllProxies
DEBUG: generateOperationID - handlerName=TestProxyGin, funcName=TestProxyGin
DEBUG: Removing standard suffixes from: TestProxyGin
DEBUG: Removing Gin suffix from TestProxyGin
DEBUG: Final operationId: testProxy
DEBUG: generateOperationID - handlerName=BulkUpdateProxiesGin, funcName=BulkUpdateProxiesGin
DEBUG: Removing standard suffixes from: BulkUpdateProxiesGin
DEBUG: Removing Gin suffix from BulkUpdateProxiesGin
DEBUG: Final operationId: bulkUpdateProxies
DEBUG: generateOperationID - handlerName=BulkDeleteProxiesGin, funcName=BulkDeleteProxiesGin
DEBUG: Removing standard suffixes from: BulkDeleteProxiesGin
DEBUG: Removing Gin suffix from BulkDeleteProxiesGin
DEBUG: Final operationId: bulkDeleteProxies
DEBUG: generateOperationID - handlerName=BulkTestProxiesGin, funcName=BulkTestProxiesGin
DEBUG: Removing standard suffixes from: BulkTestProxiesGin
DEBUG: Removing Gin suffix from BulkTestProxiesGin
DEBUG: Final operationId: bulkTestProxies
DEBUG: generateOperationID - handlerName=ListProxyPoolsGin, funcName=ListProxyPoolsGin
DEBUG: Removing standard suffixes from: ListProxyPoolsGin
DEBUG: Removing Gin suffix from ListProxyPoolsGin
DEBUG: Final operationId: listProxyPools
DEBUG: generateOperationID - handlerName=CreateProxyPoolGin, funcName=CreateProxyPoolGin
DEBUG: Removing standard suffixes from: CreateProxyPoolGin
DEBUG: Removing Gin suffix from CreateProxyPoolGin
DEBUG: Final operationId: createProxyPool
DEBUG: generateOperationID - handlerName=UpdateProxyPoolGin, funcName=UpdateProxyPoolGin
DEBUG: Removing standard suffixes from: UpdateProxyPoolGin
DEBUG: Removing Gin suffix from UpdateProxyPoolGin
DEBUG: Final operationId: updateProxyPool
DEBUG: generateOperationID - handlerName=DeleteProxyPoolGin, funcName=DeleteProxyPoolGin
DEBUG: Removing standard suffixes from: DeleteProxyPoolGin
DEBUG: Removing Gin suffix from DeleteProxyPoolGin
DEBUG: Final operationId: deleteProxyPool
DEBUG: generateOperationID - handlerName=AddProxyToPoolGin, funcName=AddProxyToPoolGin
DEBUG: Removing standard suffixes from: AddProxyToPoolGin
DEBUG: Removing Gin suffix from AddProxyToPoolGin
DEBUG: Final operationId: addProxyToPool
DEBUG: generateOperationID - handlerName=RemoveProxyFromPoolGin, funcName=RemoveProxyFromPoolGin
DEBUG: Removing standard suffixes from: RemoveProxyFromPoolGin
DEBUG: Removing Gin suffix from RemoveProxyFromPoolGin
DEBUG: Final operationId: removeProxyFromPool
DEBUG: generateOperationID - handlerName=createLeadGenerationCampaign, funcName=createLeadGenerationCampaign
DEBUG: Removing standard suffixes from: createLeadGenerationCampaign
DEBUG: Removing Gin suffix from createLeadGenerationCampaign
DEBUG: Final operationId: createLeadGenerationCampaign
DEBUG: generateOperationID - handlerName=configurePhaseStandalone, funcName=configurePhaseStandalone
DEBUG: Removing standard suffixes from: configurePhaseStandalone
DEBUG: Removing Gin suffix from configurePhaseStandalone
DEBUG: Final operationId: configurePhaseStandalone
DEBUG: generateOperationID - handlerName=startPhaseStandalone, funcName=startPhaseStandalone
DEBUG: Removing standard suffixes from: startPhaseStandalone
DEBUG: Removing Gin suffix from startPhaseStandalone
DEBUG: Final operationId: startPhaseStandalone
DEBUG: generateOperationID - handlerName=getPhaseStatusStandalone, funcName=getPhaseStatusStandalone
DEBUG: Removing standard suffixes from: getPhaseStatusStandalone
DEBUG: Removing Gin suffix from getPhaseStatusStandalone
DEBUG: Final operationId: getPhaseStatusStandalone
DEBUG: generateOperationID - handlerName=getCampaignProgressStandalone, funcName=getCampaignProgressStandalone
DEBUG: Removing standard suffixes from: getCampaignProgressStandalone
DEBUG: Removing Gin suffix from getCampaignProgressStandalone
DEBUG: Final operationId: getCampaignProgressStandalone
DEBUG: generateOperationID - handlerName=getCampaignsStandalone, funcName=getCampaignsStandalone
DEBUG: Removing standard suffixes from: getCampaignsStandalone
DEBUG: Removing Gin suffix from getCampaignsStandalone
DEBUG: Final operationId: getCampaignsStandalone
DEBUG: generateOperationID - handlerName=getBulkEnrichedCampaignData, funcName=getBulkEnrichedCampaignData
DEBUG: Removing standard suffixes from: getBulkEnrichedCampaignData
DEBUG: Removing Gin suffix from getBulkEnrichedCampaignData
DEBUG: Final operationId: getBulkEnrichedCampaignData
DEBUG: generateOperationID - handlerName=getPatternOffset, funcName=getPatternOffset
DEBUG: Removing standard suffixes from: getPatternOffset
DEBUG: Removing Gin suffix from getPatternOffset
DEBUG: Final operationId: getPatternOffset
DEBUG: generateOperationID - handlerName=getCampaignDomainsStatus, funcName=getCampaignDomainsStatus
DEBUG: Removing standard suffixes from: getCampaignDomainsStatus
DEBUG: Removing Gin suffix from getCampaignDomainsStatus
DEBUG: Final operationId: getCampaignDomainsStatus
DEBUG: generateOperationID - handlerName=HandleHealthCheck, funcName=HandleHealthCheck
DEBUG: Removing standard suffixes from: HandleHealthCheck
DEBUG: Removing Gin suffix from HandleHealthCheck
DEBUG: Final operationId: handleHealthCheck
DEBUG: generateOperationID - handlerName=HandleReadinessCheck, funcName=HandleReadinessCheck
DEBUG: Removing standard suffixes from: HandleReadinessCheck
DEBUG: Removing Gin suffix from HandleReadinessCheck
DEBUG: Final operationId: handleReadinessCheck
DEBUG: generateOperationID - handlerName=HandleLivenessCheck, funcName=HandleLivenessCheck
DEBUG: Removing standard suffixes from: HandleLivenessCheck
DEBUG: Removing Gin suffix from HandleLivenessCheck
DEBUG: Final operationId: handleLivenessCheck
DEBUG: generateOperationID - handlerName=GetServerConfigGin, funcName=GetServerConfigGin
DEBUG: Removing standard suffixes from: GetServerConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetServerConfigGin
DEBUG: Final operationId: getServerConfigGin
DEBUG: generateOperationID - handlerName=UpdateServerConfigGin, funcName=UpdateServerConfigGin
DEBUG: Removing standard suffixes from: UpdateServerConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateServerConfigGin
DEBUG: Final operationId: updateServerConfigGin
DEBUG: generateOperationID - handlerName=GetDNSConfigGin, funcName=GetDNSConfigGin
DEBUG: Removing standard suffixes from: GetDNSConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetDNSConfigGin
DEBUG: Final operationId: getDNSConfigGin
DEBUG: generateOperationID - handlerName=UpdateDNSConfigGin, funcName=UpdateDNSConfigGin
DEBUG: Removing standard suffixes from: UpdateDNSConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateDNSConfigGin
DEBUG: Final operationId: updateDNSConfigGin
DEBUG: generateOperationID - handlerName=GetHTTPConfigGin, funcName=GetHTTPConfigGin
DEBUG: Removing standard suffixes from: GetHTTPConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetHTTPConfigGin
DEBUG: Final operationId: getHTTPConfigGin
DEBUG: generateOperationID - handlerName=UpdateHTTPConfigGin, funcName=UpdateHTTPConfigGin
DEBUG: Removing standard suffixes from: UpdateHTTPConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateHTTPConfigGin
DEBUG: Final operationId: updateHTTPConfigGin
DEBUG: generateOperationID - handlerName=GetLoggingConfigGin, funcName=GetLoggingConfigGin
DEBUG: Removing standard suffixes from: GetLoggingConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetLoggingConfigGin
DEBUG: Final operationId: getLoggingConfigGin
DEBUG: generateOperationID - handlerName=UpdateLoggingConfigGin, funcName=UpdateLoggingConfigGin
DEBUG: Removing standard suffixes from: UpdateLoggingConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateLoggingConfigGin
DEBUG: Final operationId: updateLoggingConfigGin
DEBUG: generateOperationID - handlerName=GetWorkerConfigGin, funcName=GetWorkerConfigGin
DEBUG: Removing standard suffixes from: GetWorkerConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetWorkerConfigGin
DEBUG: Final operationId: getWorkerConfigGin
DEBUG: generateOperationID - handlerName=UpdateWorkerConfigGin, funcName=UpdateWorkerConfigGin
DEBUG: Removing standard suffixes from: UpdateWorkerConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateWorkerConfigGin
DEBUG: Final operationId: updateWorkerConfigGin
DEBUG: generateOperationID - handlerName=GetRateLimiterConfigGin, funcName=GetRateLimiterConfigGin
DEBUG: Removing standard suffixes from: GetRateLimiterConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetRateLimiterConfigGin
DEBUG: Final operationId: getRateLimiterConfigGin
DEBUG: generateOperationID - handlerName=UpdateRateLimiterConfigGin, funcName=UpdateRateLimiterConfigGin
DEBUG: Removing standard suffixes from: UpdateRateLimiterConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateRateLimiterConfigGin
DEBUG: Final operationId: updateRateLimiterConfigGin
DEBUG: generateOperationID - handlerName=GetAuthConfigGin, funcName=GetAuthConfigGin
DEBUG: Removing standard suffixes from: GetAuthConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetAuthConfigGin
DEBUG: Final operationId: getAuthConfigGin
DEBUG: generateOperationID - handlerName=UpdateAuthConfigGin, funcName=UpdateAuthConfigGin
DEBUG: Removing standard suffixes from: UpdateAuthConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateAuthConfigGin
DEBUG: Final operationId: updateAuthConfigGin
DEBUG: generateOperationID - handlerName=GetProxyManagerConfigGin, funcName=GetProxyManagerConfigGin
DEBUG: Removing standard suffixes from: GetProxyManagerConfigGin
DEBUG: Preserving Gin suffix for config endpoint GetProxyManagerConfigGin
DEBUG: Final operationId: getProxyManagerConfigGin
DEBUG: generateOperationID - handlerName=UpdateProxyManagerConfigGin, funcName=UpdateProxyManagerConfigGin
DEBUG: Removing standard suffixes from: UpdateProxyManagerConfigGin
DEBUG: Preserving Gin suffix for config endpoint UpdateProxyManagerConfigGin
DEBUG: Final operationId: updateProxyManagerConfigGin
DEBUG: generateOperationID - handlerName=HandleConnections, funcName=HandleConnections
DEBUG: Removing standard suffixes from: HandleConnections
DEBUG: Removing Gin suffix from HandleConnections
DEBUG: Final operationId: handleConnections
DEBUG: generateOperationID - handlerName=GetFeatureFlagsGin, funcName=GetFeatureFlagsGin
DEBUG: Removing standard suffixes from: GetFeatureFlagsGin
DEBUG: Removing Gin suffix from GetFeatureFlagsGin
DEBUG: Final operationId: getFeatureFlags
DEBUG: generateOperationID - handlerName=UpdateFeatureFlagsGin, funcName=UpdateFeatureFlagsGin
DEBUG: Removing standard suffixes from: UpdateFeatureFlagsGin
DEBUG: Removing Gin suffix from UpdateFeatureFlagsGin
DEBUG: Final operationId: updateFeatureFlags
DEBUG: generateOperationID - handlerName=BatchExtractKeywordsGin, funcName=BatchExtractKeywordsGin
DEBUG: Removing standard suffixes from: BatchExtractKeywordsGin
DEBUG: Removing Gin suffix from BatchExtractKeywordsGin
DEBUG: Final operationId: batchExtractKeywords
DEBUG: generateOperationID - handlerName=StreamExtractKeywordsGin, funcName=StreamExtractKeywordsGin
DEBUG: Removing standard suffixes from: StreamExtractKeywordsGin
DEBUG: Removing Gin suffix from StreamExtractKeywordsGin
DEBUG: Final operationId: streamExtractKeywords
DEBUG: generateOperationID - handlerName=PingHandlerGin, funcName=PingHandlerGin
DEBUG: Removing standard suffixes from: PingHandlerGin
DEBUG: Removing Gin suffix from PingHandlerGin
DEBUG: Final operationId: ping
DEBUG: generateOperationID - handlerName=HandleBulkDatabaseQuery, funcName=HandleBulkDatabaseQuery
DEBUG: Removing standard suffixes from: HandleBulkDatabaseQuery
DEBUG: Removing Gin suffix from HandleBulkDatabaseQuery
DEBUG: Final operationId: handleBulkDatabaseQuery
DEBUG: generateOperationID - handlerName=HandleBulkDatabaseStats, funcName=HandleBulkDatabaseStats
DEBUG: Removing standard suffixes from: HandleBulkDatabaseStats
DEBUG: Removing Gin suffix from HandleBulkDatabaseStats
DEBUG: Final operationId: handleBulkDatabaseStats
DEBUG: generateOperationID - handlerName=CreateKeywordSetGin, funcName=CreateKeywordSetGin
DEBUG: Removing standard suffixes from: CreateKeywordSetGin
DEBUG: Removing Gin suffix from CreateKeywordSetGin
DEBUG: Final operationId: createKeywordSet
DEBUG: generateOperationID - handlerName=ListKeywordSetsGin, funcName=ListKeywordSetsGin
DEBUG: Removing standard suffixes from: ListKeywordSetsGin
DEBUG: Removing Gin suffix from ListKeywordSetsGin
DEBUG: Final operationId: listKeywordSets
DEBUG: generateOperationID - handlerName=GetKeywordSetGin, funcName=GetKeywordSetGin
DEBUG: Removing standard suffixes from: GetKeywordSetGin
DEBUG: Removing Gin suffix from GetKeywordSetGin
DEBUG: Final operationId: getKeywordSet
DEBUG: generateOperationID - handlerName=UpdateKeywordSetGin, funcName=UpdateKeywordSetGin
DEBUG: Removing standard suffixes from: UpdateKeywordSetGin
DEBUG: Removing Gin suffix from UpdateKeywordSetGin
DEBUG: Final operationId: updateKeywordSet
DEBUG: generateOperationID - handlerName=DeleteKeywordSetGin, funcName=DeleteKeywordSetGin
DEBUG: Removing standard suffixes from: DeleteKeywordSetGin
DEBUG: Removing Gin suffix from DeleteKeywordSetGin
DEBUG: Final operationId: deleteKeywordSet
DEBUG: generateOperationID - handlerName=GetKeywordSetWithRulesGin, funcName=GetKeywordSetWithRulesGin
DEBUG: Removing standard suffixes from: GetKeywordSetWithRulesGin
DEBUG: Removing Gin suffix from GetKeywordSetWithRulesGin
DEBUG: Final operationId: getKeywordSetWithRules
DEBUG: generateOperationID - handlerName=QueryKeywordRulesGin, funcName=QueryKeywordRulesGin
DEBUG: Removing standard suffixes from: QueryKeywordRulesGin
DEBUG: Removing Gin suffix from QueryKeywordRulesGin
DEBUG: Final operationId: queryKeywordRules
DEBUG: generateOperationID - handlerName=Login, funcName=Login
DEBUG: Removing standard suffixes from: Login
DEBUG: Removing Gin suffix from Login
DEBUG: Final operationId: login
DEBUG: generateOperationID - handlerName=Logout, funcName=Logout
DEBUG: Removing standard suffixes from: Logout
DEBUG: Removing Gin suffix from Logout
DEBUG: Final operationId: logout
DEBUG: generateOperationID - handlerName=Me, funcName=Me
DEBUG: Converting Me to getCurrentUser
DEBUG: generateOperationID - handlerName=ChangePassword, funcName=ChangePassword
DEBUG: Removing standard suffixes from: ChangePassword
DEBUG: Removing Gin suffix from ChangePassword
DEBUG: Final operationId: changePassword
DEBUG: generateOperationID - handlerName=RefreshSession, funcName=RefreshSession
DEBUG: Removing standard suffixes from: RefreshSession
DEBUG: Removing Gin suffix from RefreshSession
DEBUG: Final operationId: refreshSession
Scanning package: ./internal/services
Scanning package: ./internal/models
Scanning package: ./internal/config
2025/08/01 21:32:50 Discovered 73 routes
2025/08/01 21:32:50 Generating OpenAPI operations...
2025/08/01 21:32:50 Route GET /personas has 4 parameters
2025/08/01 21:32:50   Parameter 0: limit (in: query, type: integer, required: false)
2025/08/01 21:32:50   Parameter 1: offset (in: query, type: integer, required: false)
2025/08/01 21:32:50   Parameter 2: isEnabled (in: query, type: boolean, required: false)
2025/08/01 21:32:50   Parameter 3: personaType (in: query, type: string, required: false)
2025/08/01 21:32:50 Route POST /personas has 0 parameters
2025/08/01 21:32:50 Route GET /personas/{id} has 1 parameters
2025/08/01 21:32:50   Parameter 0: id (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /personas/http/{id} has 1 parameters
2025/08/01 21:32:50   Parameter 0: id (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /personas/dns/{id} has 1 parameters
2025/08/01 21:32:50   Parameter 0: id (in: path, type: string, required: true)
2025/08/01 21:32:50 Route PUT /personas/{id} has 1 parameters
2025/08/01 21:32:50   Parameter 0: id (in: path, type: string, required: true)
2025/08/01 21:32:50 Route DELETE /personas/{id} has 1 parameters
2025/08/01 21:32:50   Parameter 0: id (in: path, type: string, required: true)
2025/08/01 21:32:50 Route POST /personas/{id}/test has 1 parameters
2025/08/01 21:32:50   Parameter 0: id (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /proxies has 5 parameters
2025/08/01 21:32:50   Parameter 0: limit (in: query, type: integer, required: false)
2025/08/01 21:32:50   Parameter 1: offset (in: query, type: integer, required: false)
2025/08/01 21:32:50   Parameter 2: protocol (in: query, type: string, required: false)
2025/08/01 21:32:50   Parameter 3: isEnabled (in: query, type: boolean, required: false)
2025/08/01 21:32:50   Parameter 4: isHealthy (in: query, type: boolean, required: false)
2025/08/01 21:32:50 Route POST /proxies has 0 parameters
2025/08/01 21:32:50 Route PUT /proxies/{proxyId} has 1 parameters
2025/08/01 21:32:50   Parameter 0: proxyId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route DELETE /proxies/{proxyId} has 1 parameters
2025/08/01 21:32:50   Parameter 0: proxyId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /proxies/status has 0 parameters
2025/08/01 21:32:50 Route POST /proxies/{proxyId}/health-check has 1 parameters
2025/08/01 21:32:50   Parameter 0: proxyId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route POST /proxies/health-check has 0 parameters
2025/08/01 21:32:50 Route POST /proxies/{proxyId}/test has 1 parameters
2025/08/01 21:32:50   Parameter 0: proxyId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route PUT /proxies/bulk/update has 0 parameters
2025/08/01 21:32:50 Route DELETE /proxies/bulk/delete has 0 parameters
2025/08/01 21:32:50 Route POST /proxies/bulk/test has 0 parameters
2025/08/01 21:32:50 Route GET /proxy-pools has 0 parameters
2025/08/01 21:32:50 Route POST /proxy-pools has 0 parameters
2025/08/01 21:32:50 Route PUT /proxy-pools/{poolId} has 1 parameters
2025/08/01 21:32:50   Parameter 0: poolId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route DELETE /proxy-pools/{poolId} has 1 parameters
2025/08/01 21:32:50   Parameter 0: poolId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route POST /proxy-pools/{poolId}/proxies has 1 parameters
2025/08/01 21:32:50   Parameter 0: poolId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route DELETE /proxy-pools/{poolId}/proxies/{proxyId} has 2 parameters
2025/08/01 21:32:50   Parameter 0: poolId (in: path, type: string, required: true)
2025/08/01 21:32:50   Parameter 1: proxyId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route POST /campaigns/lead-generation has 0 parameters
2025/08/01 21:32:50 Route POST /campaigns/{campaignId}/phases/{phase}/configure has 2 parameters
2025/08/01 21:32:50   Parameter 0: campaignId (in: path, type: string, required: true)
2025/08/01 21:32:50   Parameter 1: phase (in: path, type: string, required: true)
2025/08/01 21:32:50 Route POST /campaigns/{campaignId}/phases/{phase}/start has 2 parameters
2025/08/01 21:32:50   Parameter 0: campaignId (in: path, type: string, required: true)
2025/08/01 21:32:50   Parameter 1: phase (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /campaigns/{campaignId}/phases/{phase}/status has 2 parameters
2025/08/01 21:32:50   Parameter 0: campaignId (in: path, type: string, required: true)
2025/08/01 21:32:50   Parameter 1: phase (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /campaigns/{campaignId}/progress has 1 parameters
2025/08/01 21:32:50   Parameter 0: campaignId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /campaigns has 0 parameters
2025/08/01 21:32:50 Route POST /campaigns/bulk/enriched-data has 0 parameters
2025/08/01 21:32:50 Route POST /campaigns/domain-generation/pattern-offset has 0 parameters
2025/08/01 21:32:50 Route GET /campaigns/{campaignId}/domains/status has 1 parameters
2025/08/01 21:32:50   Parameter 0: campaignId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /health has 0 parameters
2025/08/01 21:32:50 Route GET /health/ready has 0 parameters
2025/08/01 21:32:50 Route GET /health/live has 0 parameters
2025/08/01 21:32:50 Route GET /server/config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/config has 0 parameters
2025/08/01 21:32:50 Route GET /server/dns-config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/dns-config has 0 parameters
2025/08/01 21:32:50 Route GET /server/http-config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/http-config has 0 parameters
2025/08/01 21:32:50 Route GET /server/logging-config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/logging-config has 0 parameters
2025/08/01 21:32:50 Route GET /server/worker-config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/worker-config has 0 parameters
2025/08/01 21:32:50 Route GET /server/rate-limiter-config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/rate-limiter-config has 0 parameters
2025/08/01 21:32:50 Route GET /server/auth-config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/auth-config has 0 parameters
2025/08/01 21:32:50 Route GET /server/proxy-manager-config has 0 parameters
2025/08/01 21:32:50 Route PUT /server/proxy-manager-config has 0 parameters
2025/08/01 21:32:50 Route GET /ws has 1 parameters
2025/08/01 21:32:50   Parameter 0: domainflow_session (in: header, type: string, required: false)
2025/08/01 21:32:50 Route GET /feature-flags has 0 parameters
2025/08/01 21:32:50 Route PUT /feature-flags has 0 parameters
2025/08/01 21:32:50 Route POST /keyword-extraction/batch has 0 parameters
2025/08/01 21:32:50 Route GET /keyword-extraction/stream has 4 parameters
2025/08/01 21:32:50   Parameter 0: url (in: query, type: string, required: true)
2025/08/01 21:32:50   Parameter 1: keywordSetId (in: query, type: string, required: true)
2025/08/01 21:32:50   Parameter 2: httpPersonaId (in: query, type: string, required: false)
2025/08/01 21:32:50   Parameter 3: dnsPersonaId (in: query, type: string, required: false)
2025/08/01 21:32:50 Route GET /ping has 0 parameters
2025/08/01 21:32:50 Route POST /api/v2/database/query has 1 parameters
2025/08/01 21:32:50   Parameter 0: X-Requested-With (in: header, type: string, required: true)
2025/08/01 21:32:50 Route POST /api/v2/database/stats has 1 parameters
2025/08/01 21:32:50   Parameter 0: X-Requested-With (in: header, type: string, required: true)
2025/08/01 21:32:50 Route POST /keywords/sets has 0 parameters
2025/08/01 21:32:50 Route GET /keywords/sets has 4 parameters
2025/08/01 21:32:50   Parameter 0: limit (in: query, type: integer, required: false)
2025/08/01 21:32:50   Parameter 1: offset (in: query, type: integer, required: false)
2025/08/01 21:32:50   Parameter 2: includeRules (in: query, type: boolean, required: false)
2025/08/01 21:32:50   Parameter 3: isEnabled (in: query, type: boolean, required: false)
2025/08/01 21:32:50 Route GET /keywords/sets/{setId} has 1 parameters
2025/08/01 21:32:50   Parameter 0: setId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route PUT /keywords/sets/{setId} has 1 parameters
2025/08/01 21:32:50   Parameter 0: setId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route DELETE /keywords/sets/{setId} has 1 parameters
2025/08/01 21:32:50   Parameter 0: setId (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /api/v2/keyword-sets/{id}/rules has 1 parameters
2025/08/01 21:32:50   Parameter 0: id (in: path, type: string, required: true)
2025/08/01 21:32:50 Route GET /api/v2/keyword-rules has 7 parameters
2025/08/01 21:32:50   Parameter 0: keyword_set_id (in: query, type: string, required: false)
2025/08/01 21:32:50   Parameter 1: rule_type (in: query, type: string, required: false)
2025/08/01 21:32:50   Parameter 2: category (in: query, type: string, required: false)
2025/08/01 21:32:50   Parameter 3: is_case_sensitive (in: query, type: boolean, required: false)
2025/08/01 21:32:50   Parameter 4: pattern (in: query, type: string, required: false)
2025/08/01 21:32:50   Parameter 5: limit (in: query, type: integer, required: false)
2025/08/01 21:32:50   Parameter 6: offset (in: query, type: integer, required: false)
2025/08/01 21:32:50 Route POST /auth/login has 0 parameters
2025/08/01 21:32:50 Route POST /auth/logout has 0 parameters
2025/08/01 21:32:50 Route GET /auth/me has 0 parameters
2025/08/01 21:32:50 Route POST /auth/change-password has 0 parameters
2025/08/01 21:32:50 Route POST /auth/refresh has 0 parameters
2025/08/01 21:32:50 Generated 54 paths with operations
2025/08/01 21:32:50 Generating schemas...
Skipping registration of excluded type: StatusResponseWriter
Skipping registration of excluded type: APIHandler
Skipping registration of excluded type: CampaignOrchestratorAPIHandler
Skipping registration of excluded type: AuthHandler
Skipping registration of excluded type: HealthCheckHandler
Skipping registration of excluded type: WebSocketHandler
Skipping registration of excluded type: WorkerCoordinationService
Skipping registration of excluded type: MemoryPoolManager
Skipping registration of excluded type: EfficientWorkerPool
Skipping registration of excluded type: DatabaseConnectionMetrics
Skipping registration of excluded type: CPUOptimizationConfig
Added enum schema for ProxyStatusEnum with values: [Active Disabled Testing Failed]
Added enum schema for PersonaStatusEnum with values: [Active Disabled Testing Failed]
Added enum schema for CampaignJobStatusEnum with values: [pending queued running completed failed cancelled]
Added enum schema for JobBusinessStatusEnum with values: [processing retry priority_queued batch_optimized]
Added enum schema for ValidationStatusEnum with values: [pending valid invalid error skipped]
Added enum schema for PhaseTypeEnum with values: [domain_generation dns_validation http_keyword_validation analysis]
Added enum schema for PhaseStatusEnum with values: [not_started ready configured in_progress paused completed failed]
Added enum schema for DomainHTTPStatusEnum with values: [pending ok error timeout]
Added enum schema for KeywordRuleTypeEnum with values: [string regex]
Added enum schema for JobTypeEnum with values: [generation dns_validation http_keyword_validation analysis]
Added enum schema for PersonaTypeEnum with values: [dns http]
Added enum schema for DNSValidationStatusEnum with values: [resolved unresolved timeout error]
Added enum schema for HTTPValidationStatusEnum with values: [success failed timeout error]
Added enum schema for ProxyProtocolEnum with values: [http https socks5 socks4]
Added enum schema for DomainDNSStatusEnum with values: [pending ok error timeout]
Added enum schema for DomainLeadStatusEnum with values: [pending match no_match error timeout]
Generated schema for business entity: UserAPI (clean name: UserAPI)
Generated schema for business entity: LoginResponseAPI (clean name: LoginResponseAPI)
Applied enum constraints to field: [domain_generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field: [not_started ready configured in_progress paused completed failed]
Generated schema for business entity: CampaignAPI (clean name: CampaignAPI)
Generated schema for business entity: ConfigLock (clean name: ConfigLock)
Generated schema for business entity: ConfigVersion (clean name: ConfigVersion)
Generated schema for business entity: ServiceArchitectureMetric (clean name: ServiceArchitectureMetric)
Generated schema for business entity: ServiceDependency (clean name: ServiceDependency)
Generated schema for business entity: ArchitectureRefactorLog (clean name: ArchitectureRefactorLog)
Generated schema for business entity: CommunicationPattern (clean name: CommunicationPattern)
Generated schema for business entity: ServiceCapacityMetric (clean name: ServiceCapacityMetric)
Generated schema for business entity: EventStoreRecord (clean name: EventStoreRecord)
Generated schema for business entity: EventProjection (clean name: EventProjection)
Generated schema for business entity: CampaignStateEvent (clean name: CampaignStateEvent)
Generated schema for business entity: CampaignStateSnapshot (clean name: CampaignStateSnapshot)
Generated schema for business entity: CampaignStateTransition (clean name: CampaignStateTransition)
Generated schema for business entity: User (clean name: User)
Generated schema for business entity: Session (clean name: Session)
Generated schema for business entity: AuthAuditLog (clean name: AuthAuditLog)
Generated schema for business entity: RateLimit (clean name: RateLimit)
Generated schema for business entity: LoginRequest (clean name: LoginRequest)
Generated schema for business entity: LoginResponse (clean name: LoginResponse)
Generated schema for business entity: ChangePasswordRequest (clean name: ChangePasswordRequest)
Generated schema for business entity: CreateUserRequest (clean name: CreateUserRequest)
Generated schema for business entity: UpdateUserRequest (clean name: UpdateUserRequest)
Generated schema for business entity: AuthResult (clean name: AuthResult)
Generated schema for business entity: SecurityContext (clean name: SecurityContext)
Generated schema for business entity: ErrorResponse (clean name: ErrorResponse)
Generated schema for business entity: ConnectionPoolMetrics (clean name: ConnectionPoolMetrics)
Generated schema for business entity: QueryPerformanceReport (clean name: QueryPerformanceReport)
Generated schema for business entity: ConnectionPoolReport (clean name: ConnectionPoolReport)
Generated schema for business entity: DatabaseOptimizationRecommendation (clean name: DatabaseOptimizationRecommendation)
Generated schema for business entity: PaginationPerformanceMetric (clean name: PaginationPerformanceMetric)
Generated schema for business entity: PerformanceThreshold (clean name: PerformanceThreshold)
Generated schema for business entity: HttpPersonaConfig (clean name: HttpPersonaConfig)
Generated schema for business entity: HTTP2SettingsConfig (clean name: HTTP2SettingsConfig)
Applied enum constraints to field: [round_robin random weighted priority random_rotation weighted_rotation sequential_failover]
Generated schema for business entity: DnsPersonaConfig (clean name: DnsPersonaConfig)
Generated schema for business entity: PasswordResetToken (clean name: PasswordResetToken)
Generated schema for business entity: SecurityEvent (clean name: SecurityEvent)
Generated schema for business entity: AuthorizationDecision (clean name: AuthorizationDecision)
Generated schema for business entity: CampaignAccessGrant (clean name: CampaignAccessGrant)
Generated schema for business entity: CacheConfiguration (clean name: CacheConfiguration)
Generated schema for business entity: CacheEntry (clean name: CacheEntry)
Generated schema for business entity: CacheInvalidationLog (clean name: CacheInvalidationLog)
Generated schema for business entity: CacheInvalidation (clean name: CacheInvalidation)
Generated schema for business entity: CacheMetric (clean name: CacheMetric)
Generated schema for business entity: GeneralErrorResponse (clean name: GeneralErrorResponse)
Generated schema for business entity: DNSPhaseConfigRequest (clean name: DNSPhaseConfigRequest)
Generated schema for business entity: HTTPPhaseConfigRequest (clean name: HTTPPhaseConfigRequest)
Applied enum constraints to field: [round_robin random weighted priority]
Generated schema for business entity: DNSConfigDetails (clean name: DNSConfigDetails)
Generated schema for business entity: HTTPConfigDetails (clean name: HTTPConfigDetails)
Applied enum constraints to field Persona.personaType: [dns http]
Applied enum constraints to field: [dns http]
Applied enum constraints to field: [dns http]
Applied enum constraints to field: [Active Disabled Testing Failed]
Generated schema for business entity: Persona (clean name: Persona)
Applied enum constraints to field: [http https socks5 socks4]
Applied enum constraints to field: [Active Disabled Testing Failed]
Generated schema for business entity: Proxy (clean name: Proxy)
Generated schema for business entity: KeywordSet (clean name: KeywordSet)
Applied enum constraints to field KeywordRule.ruleType: [string regex]
Applied enum constraints to field: [string regex]
Applied enum constraints to field: [string regex]
Generated schema for business entity: KeywordRule (clean name: KeywordRule)
Applied enum constraints to field: [domain_generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field: [not_started ready configured in_progress paused completed failed]
Generated schema for business entity: LeadGenerationCampaign (clean name: LeadGenerationCampaign)
Applied enum constraints to field CampaignPhase.phaseType: [domain_generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field: [domain_generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field: [domain_generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field CampaignPhase.status: [not_started ready configured in_progress paused completed failed]
Applied enum constraints to field: [not_started ready configured in_progress paused completed failed]
Applied enum constraints to field: [not_started ready configured in_progress paused completed failed]
Generated schema for business entity: CampaignPhase (clean name: CampaignPhase)
Generated schema for business entity: ExtractedContentItem (clean name: ExtractedContentItem)
Applied enum constraints to field: [Positive Negative Neutral]
Generated schema for business entity: ExtractedContentAnalysis (clean name: ExtractedContentAnalysis)
Generated schema for business entity: LeadItem (clean name: LeadItem)
Applied enum constraints to field: [prefix_variable suffix_variable both_variable]
Generated schema for business entity: DomainGenerationCampaignParams (clean name: DomainGenerationCampaignParams)
Generated schema for business entity: NormalizedDomainGenerationParams (clean name: NormalizedDomainGenerationParams)
Generated schema for business entity: DomainGenerationPhaseConfigState (clean name: DomainGenerationPhaseConfigState)
Applied enum constraints to field: [pending ok error timeout]
Applied enum constraints to field: [pending ok error timeout]
Applied enum constraints to field: [pending match no_match error timeout]
Generated schema for business entity: GeneratedDomain (clean name: GeneratedDomain)
Generated schema for business entity: DNSValidationCampaignParams (clean name: DNSValidationCampaignParams)
Generated schema for business entity: DNSValidationResult (clean name: DNSValidationResult)
Generated schema for business entity: HTTPKeywordCampaignParams (clean name: HTTPKeywordCampaignParams)
Generated schema for business entity: HTTPKeywordResult (clean name: HTTPKeywordResult)
Generated schema for business entity: AuditLog (clean name: AuditLog)
Applied enum constraints to field CampaignJob.jobType: [generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field: [generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field: [generation dns_validation http_keyword_validation analysis]
Applied enum constraints to field CampaignJob.status: [pending queued running completed failed cancelled]
Applied enum constraints to field: [pending queued running completed failed cancelled]
Applied enum constraints to field: [pending queued running completed failed cancelled]
Applied enum constraints to field: [processing retry priority_queued batch_optimized]
Generated schema for business entity: CampaignJob (clean name: CampaignJob)
Generated schema for business entity: ProxyPool (clean name: ProxyPool)
Generated schema for business entity: ProxyPoolMembership (clean name: ProxyPoolMembership)
Generated schema for business entity: QueryPerformanceMetric (clean name: QueryPerformanceMetric)
Generated schema for business entity: ResourceUtilizationMetric (clean name: ResourceUtilizationMetric)
Applied enum constraints to field CreateProxyRequest.protocol: [http https socks5 socks4]
Applied enum constraints to field: [http https socks5 socks4]
Applied enum constraints to field: [http https socks5 socks4]
Generated schema for business entity: CreateProxyRequest (clean name: CreateProxyRequest)
Applied enum constraints to field: [http https socks5 socks4]
Generated schema for business entity: UpdateProxyRequest (clean name: UpdateProxyRequest)
Generated schema for business entity: BulkUpdateProxiesRequest (clean name: BulkUpdateProxiesRequest)
Generated schema for business entity: BulkDeleteProxiesRequest (clean name: BulkDeleteProxiesRequest)
Generated schema for business entity: BulkTestProxiesRequest (clean name: BulkTestProxiesRequest)
Generated schema for business entity: BulkProxyOperationResponse (clean name: BulkProxyOperationResponse)
Generated schema for business entity: BulkProxyError (clean name: BulkProxyError)
Generated schema for business entity: HealthStatus (clean name: HealthStatus)
Generated schema for business entity: Status (clean name: Status)
Generated schema for business entity: SystemInfo (clean name: SystemInfo)
Generated schema for business entity: APIResponse (clean name: APIResponse)
Applied enum constraints to field ErrorInfo.code: [BAD_REQUEST UNAUTHORIZED FORBIDDEN NOT_FOUND CONFLICT VALIDATION_ERROR RATE_LIMIT_EXCEEDED REQUEST_TIMEOUT INTERNAL_SERVER_ERROR DATABASE_ERROR SERVICE_UNAVAILABLE GATEWAY_TIMEOUT CAMPAIGN_IN_PROGRESS QUOTA_EXCEEDED INVALID_STATE]
Applied enum constraints to field: [BAD_REQUEST UNAUTHORIZED FORBIDDEN NOT_FOUND CONFLICT VALIDATION_ERROR RATE_LIMIT_EXCEEDED REQUEST_TIMEOUT INTERNAL_SERVER_ERROR DATABASE_ERROR SERVICE_UNAVAILABLE GATEWAY_TIMEOUT CAMPAIGN_IN_PROGRESS QUOTA_EXCEEDED INVALID_STATE]
Applied enum constraints to field: [BAD_REQUEST UNAUTHORIZED FORBIDDEN NOT_FOUND CONFLICT VALIDATION_ERROR RATE_LIMIT_EXCEEDED REQUEST_TIMEOUT INTERNAL_SERVER_ERROR DATABASE_ERROR SERVICE_UNAVAILABLE GATEWAY_TIMEOUT CAMPAIGN_IN_PROGRESS QUOTA_EXCEEDED INVALID_STATE]
Generated schema for business entity: ErrorInfo (clean name: ErrorInfo)
Generated schema for business entity: PageInfo (clean name: PageInfo)
Generated schema for business entity: RateLimitInfo (clean name: RateLimitInfo)
Generated schema for business entity: ProcessingInfo (clean name: ProcessingInfo)
Generated schema for business entity: KeywordExtractionRequestItem (clean name: KeywordExtractionRequestItem)
Generated schema for business entity: BatchKeywordExtractionRequest (clean name: BatchKeywordExtractionRequest)
Generated schema for business entity: KeywordExtractionAPIResult (clean name: KeywordExtractionAPIResult)
Generated schema for business entity: BatchKeywordExtractionResponse (clean name: BatchKeywordExtractionResponse)
Found type registry entry for models.KeywordRuleTypeEnum
Generated schema for business entity: KeywordRuleRequest (clean name: KeywordRuleRequest)
Generated schema for business entity: CreateKeywordSetRequest (clean name: CreateKeywordSetRequest)
Generated schema for business entity: UpdateKeywordSetRequest (clean name: UpdateKeywordSetRequest)
Found business entity KeywordRule for external selector models.KeywordRule
Generated schema for business entity: KeywordSetResponse (clean name: KeywordSetResponse)
Generated schema for business entity: StreamingResponseHandler (clean name: StreamingResponseHandler)
Generated schema for business entity: ProxyPoolRequest (clean name: ProxyPoolRequest)
Applied enum constraints to field: [prefix suffix both]
Generated schema for business entity: PatternOffsetRequest (clean name: PatternOffsetRequest)
Generated schema for business entity: PatternOffsetResponse (clean name: PatternOffsetResponse)
Generated schema for business entity: SuccessMessageResponse (clean name: SuccessMessageResponse)
Generated schema for business entity: DeletionConfirmationResponse (clean name: DeletionConfirmationResponse)
Generated schema for business entity: HealthCheckResponse (clean name: HealthCheckResponse)
Generated schema for business entity: TestResultResponse (clean name: TestResultResponse)
Generated schema for business entity: DetailedTestResultResponse (clean name: DetailedTestResultResponse)
Generated schema for business entity: DeletionResponse (clean name: DeletionResponse)
Generated schema for business entity: ProxyStatusResponse (clean name: ProxyStatusResponse)
Generated schema for business entity: ProxyDetailsResponse (clean name: ProxyDetailsResponse)
Generated schema for business entity: ProxyHealthCheckResponse (clean name: ProxyHealthCheckResponse)
Generated schema for business entity: BulkHealthCheckResponse (clean name: BulkHealthCheckResponse)
Generated schema for business entity: CampaignOperationResponse (clean name: CampaignOperationResponse)
Generated schema for business entity: BulkCampaignDeleteResponse (clean name: BulkCampaignDeleteResponse)
Generated schema for business entity: ValidationOperationResponse (clean name: ValidationOperationResponse)
Generated schema for business entity: PersonaTestResponse (clean name: PersonaTestResponse)
Generated schema for business entity: PersonaTestResultData (clean name: PersonaTestResultData)
Generated schema for business entity: SessionResponse (clean name: SessionResponse)
Generated schema for business entity: UserPublicResponse (clean name: UserPublicResponse)
Generated schema for business entity: ServerConfigResponse (clean name: ServerConfigResponse)
Generated schema for business entity: ServerConfigUpdateRequest (clean name: ServerConfigUpdateRequest)
Generated schema for business entity: LoginSuccessResponse (clean name: LoginSuccessResponse)
Generated schema for business entity: SessionData (clean name: SessionData)
Generated schema for business entity: PasswordChangeResponse (clean name: PasswordChangeResponse)
Generated schema for business entity: SessionRefreshResponse (clean name: SessionRefreshResponse)
Generated schema for business entity: CampaignActionResponse (clean name: CampaignActionResponse)
Generated schema for business entity: ValidationStartResponse (clean name: ValidationStartResponse)
Generated schema for business entity: OffsetResponse (clean name: OffsetResponse)
Generated schema for business entity: ProxyTestResponse (clean name: ProxyTestResponse)
Generated schema for business entity: BulkProxyTestResponse (clean name: BulkProxyTestResponse)
Generated schema for business entity: ProxyPoolDeleteResponse (clean name: ProxyPoolDeleteResponse)
Generated schema for business entity: ProxyPoolMembershipResponse (clean name: ProxyPoolMembershipResponse)
Generated schema for business entity: PersonaDeleteResponse (clean name: PersonaDeleteResponse)
Generated schema for business entity: KeywordSetDeleteResponse (clean name: KeywordSetDeleteResponse)
Generated schema for business entity: PingResponse (clean name: PingResponse)
Generated schema for business entity: WebSocketErrorResponse (clean name: WebSocketErrorResponse)
Generated schema for business entity: BulkDeleteResult (clean name: BulkDeleteResult)
Generated schema for business entity: CampaignDetailsResponse (clean name: CampaignDetailsResponse)
Found type registry entry for models.PhaseTypeEnum
Found type registry entry for models.PhaseStatusEnum
Generated schema for business entity: LeadGenerationCampaignResponse (clean name: LeadGenerationCampaignResponse)
Found type registry entry for models.PhaseTypeEnum
Found type registry entry for models.PhaseStatusEnum
Generated schema for business entity: PhaseProgressResponse (clean name: PhaseProgressResponse)
Found type registry entry for models.PhaseTypeEnum
Found type registry entry for models.PhaseStatusEnum
Generated schema for business entity: CampaignProgressResponse (clean name: CampaignProgressResponse)
Found type registry entry for models.PhaseTypeEnum
Found type registry entry for models.PhaseStatusEnum
Generated schema for business entity: CampaignData (clean name: CampaignData)
Generated schema for business entity: CampaignParamsData (clean name: CampaignParamsData)
Found business entity GeneratedDomain for external selector models.GeneratedDomain
Found business entity LeadItem for external selector models.LeadItem
Generated schema for business entity: EnrichedCampaignData (clean name: EnrichedCampaignData)
Generated schema for business entity: ErrorContext (clean name: ErrorContext)
Generated schema for business entity: CampaignStartResponse (clean name: CampaignStartResponse)
Generated schema for business entity: DNSValidationStartResponse (clean name: DNSValidationStartResponse)
Generated schema for business entity: HTTPValidationStartResponse (clean name: HTTPValidationStartResponse)
Generated schema for business entity: DNSValidationAPIRequest (clean name: DNSValidationAPIRequest)
Generated schema for business entity: ProxyHealthCheckRequest (clean name: ProxyHealthCheckRequest)
Generated schema for business entity: AddProxyToPoolRequest (clean name: AddProxyToPoolRequest)
Generated schema for business entity: BulkEnrichedDataRequest (clean name: BulkEnrichedDataRequest)
Generated schema for business entity: BulkEnrichedDataResponse (clean name: BulkEnrichedDataResponse)
Generated schema for business entity: BulkDomainsRequest (clean name: BulkDomainsRequest)
Generated schema for business entity: BulkDomainsResponse (clean name: BulkDomainsResponse)
Generated schema for business entity: BulkLogsRequest (clean name: BulkLogsRequest)
Generated schema for business entity: BulkLogsResponse (clean name: BulkLogsResponse)
Generated schema for business entity: BulkLeadsRequest (clean name: BulkLeadsRequest)
Found business entity LeadItem for external selector models.LeadItem
Generated schema for business entity: BulkLeadsResponse (clean name: BulkLeadsResponse)
Generated schema for business entity: BulkMetadata (clean name: BulkMetadata)
Generated schema for business entity: BulkDatabaseQueryRequest (clean name: BulkDatabaseQueryRequest)
Generated schema for business entity: DatabaseQuery (clean name: DatabaseQuery)
Generated schema for business entity: BulkDatabaseQueryResponse (clean name: BulkDatabaseQueryResponse)
Generated schema for business entity: DatabaseQueryResult (clean name: DatabaseQueryResult)
Generated schema for business entity: BulkQueryMetadata (clean name: BulkQueryMetadata)
Generated schema for business entity: BulkDatabaseStatsRequest (clean name: BulkDatabaseStatsRequest)
Generated schema for business entity: BulkDatabaseStatsResponse (clean name: BulkDatabaseStatsResponse)
Generated schema for business entity: DatabaseStats (clean name: DatabaseStats)
Generated schema for business entity: SchemaStats (clean name: SchemaStats)
Generated schema for business entity: TableStats (clean name: TableStats)
Generated schema for business entity: BulkStatsMetadata (clean name: BulkStatsMetadata)
Applied enum constraints to field: [dns_validation http_keyword_validation analysis]
Generated schema for business entity: PhaseConfigureRequest (clean name: PhaseConfigureRequest)
Generated schema for business entity: DNSValidationConfig (clean name: DNSValidationConfig)
Generated schema for business entity: HTTPValidationConfig (clean name: HTTPValidationConfig)
Applied enum constraints to field: [basic comprehensive custom]
Generated schema for business entity: AnalysisConfig (clean name: AnalysisConfig)
Applied enum constraints to field: [domain_generation dns_validation http_keyword_validation analysis]
Generated schema for business entity: PhaseStartRequest (clean name: PhaseStartRequest)
Found type registry entry for models.PersonaTypeEnum
Generated schema for business entity: CreatePersonaRequest (clean name: CreatePersonaRequest)
Generated schema for business entity: UpdatePersonaRequest (clean name: UpdatePersonaRequest)
Found type registry entry for models.PersonaTypeEnum
Generated schema for business entity: PersonaResponse (clean name: PersonaResponse)
Generated schema for business entity: CampaignTransactionOptions (clean name: CampaignTransactionOptions)
Found business entity DNSConfigDetails for external selector models.DNSConfigDetails
Found business entity Persona for external selector models.Persona
Generated schema for business entity: DNSPersonaGroup (clean name: DNSPersonaGroup)
Generated schema for business entity: DNSPerformanceMetrics (clean name: DNSPerformanceMetrics)
Generated schema for business entity: SessionData (clean name: SessionData)
Generated schema for business entity: SessionMetrics (clean name: SessionMetrics)
Generated schema for business entity: DomainBatch (clean name: DomainBatch)
Generated schema for business entity: WorkerPoolMetrics (clean name: WorkerPoolMetrics)
Generated schema for business entity: WorkerPoolConfig (clean name: WorkerPoolConfig)
Generated schema for business entity: ConfigManagerConfig (clean name: ConfigManagerConfig)
Found type registry entry for models.KeywordRuleTypeEnum
Generated schema for business entity: RuleQueryFilter (clean name: RuleQueryFilter)
Generated schema for business entity: ConsistencyReport (clean name: ConsistencyReport)
Found type registry entry for models.JobTypeEnum
Found type registry entry for models.PhaseStatusEnum
Generated schema for business entity: UpdateCampaignRequest (clean name: UpdateCampaignRequest)
Generated schema for business entity: CreateCampaignRequest (clean name: CreateCampaignRequest)
Applied enum constraints to field: [prefix suffix both]
Generated schema for business entity: DomainGenerationParams (clean name: DomainGenerationParams)
Generated schema for business entity: DnsValidationParams (clean name: DnsValidationParams)
Generated schema for business entity: HttpKeywordParams (clean name: HttpKeywordParams)
Generated schema for business entity: CreateLeadGenerationCampaignRequest (clean name: CreateLeadGenerationCampaignRequest)
Found business entity GeneratedDomain for external selector models.GeneratedDomain
Generated schema for business entity: GeneratedDomainsResponse (clean name: GeneratedDomainsResponse)
Found business entity DNSValidationResult for external selector models.DNSValidationResult
Generated schema for business entity: DNSValidationResultsResponse (clean name: DNSValidationResultsResponse)
Found business entity HTTPKeywordResult for external selector models.HTTPKeywordResult
Generated schema for business entity: HTTPKeywordResultsResponse (clean name: HTTPKeywordResultsResponse)
Generated schema for business entity: DNSValidationRequest (clean name: DNSValidationRequest)
Generated schema for business entity: HTTPKeywordValidationRequest (clean name: HTTPKeywordValidationRequest)
Generated schema for business entity: BulkDeleteResult (clean name: BulkDeleteResult)
Found business entity LeadGenerationCampaign for external selector models.LeadGenerationCampaign
Found business entity LeadGenerationCampaign for external selector models.LeadGenerationCampaign
Generated schema for business entity: CampaignDependencyInfo (clean name: CampaignDependencyInfo)
Applied enum constraints to field: [prefix suffix both]
Generated schema for business entity: CreateDomainGenerationCampaignRequest (clean name: CreateDomainGenerationCampaignRequest)
Generated schema for business entity: DNSValidationParams (clean name: DNSValidationParams)
Generated schema for business entity: HTTPKeywordParams (clean name: HTTPKeywordParams)
Generated schema for business entity: HTTPValidationPhaseConfig (clean name: HTTPValidationPhaseConfig)
Generated schema for business entity: GenerateDomainsRequest (clean name: GenerateDomainsRequest)
Generated schema for business entity: DomainGenerationProgress (clean name: DomainGenerationProgress)
Generated schema for business entity: DomainGenerationStats (clean name: DomainGenerationStats)
Found type registry entry for models.PhaseTypeEnum
Generated schema for business entity: LeadGenerationProgress (clean name: LeadGenerationProgress)
Found type registry entry for models.PhaseTypeEnum
Generated schema for business entity: PhaseConfig (clean name: PhaseConfig)
Applied enum constraints to field: [prefix suffix both]
Generated schema for business entity: DomainGenerationPhaseConfig (clean name: DomainGenerationPhaseConfig)
Generated schema for business entity: DNSValidationPhaseConfig (clean name: DNSValidationPhaseConfig)
Generated schema for business entity: HTTPKeywordValidationPhaseConfig (clean name: HTTPKeywordValidationPhaseConfig)
Generated schema for business entity: AnalysisPhaseConfig (clean name: AnalysisPhaseConfig)
Found type registry entry for models.PhaseTypeEnum
Found type registry entry for models.PhaseStatusEnum
Generated schema for business entity: PhaseProgress (clean name: PhaseProgress)
Found type registry entry for models.PhaseTypeEnum
Generated schema for business entity: PhaseStats (clean name: PhaseStats)
Found business entity ExtractedContentItem for external selector models.ExtractedContentItem
Found business entity LeadItem for external selector models.LeadItem
Generated schema for business entity: ContentAnalysisResult (clean name: ContentAnalysisResult)
Generated schema for business entity: CachedSessionConfig (clean name: CachedSessionConfig)
Generated schema for business entity: CachedSessionData (clean name: CachedSessionData)
Applied enum constraints to field StealthConfig.shuffleStrategy: [sequential full_shuffle block_shuffle weighted interleaved]
Applied enum constraints to field: [sequential full_shuffle block_shuffle weighted interleaved]
Applied enum constraints to field: [sequential full_shuffle block_shuffle weighted interleaved]
Generated schema for business entity: StealthConfig (clean name: StealthConfig)
Generated schema for business entity: RandomizedDomain (clean name: RandomizedDomain)
Generated schema for business entity: StealthMetrics (clean name: StealthMetrics)
Generated schema for business entity: TOTPSecret (clean name: TOTPSecret)
Applied enum constraints to field MFAChallenge.method: [totp sms email backup]
Applied enum constraints to field: [totp sms email backup]
Applied enum constraints to field: [totp sms email backup]
Generated schema for business entity: MFAChallenge (clean name: MFAChallenge)
Applied enum constraints to field MFAEnrollment.preferredMethod: [totp sms email backup]
Applied enum constraints to field: [totp sms email backup]
Applied enum constraints to field: [totp sms email backup]
Generated schema for business entity: MFAEnrollment (clean name: MFAEnrollment)
Generated schema for business entity: ServiceConfiguration (clean name: ServiceConfiguration)
Found business entity PhaseConfig for external selector config.PhaseConfig
Generated schema for business entity: OptimizationStatus (clean name: OptimizationStatus)
Generated schema for business entity: OptimizationLevel (clean name: OptimizationLevel)
Generated schema for business entity: OptimizedHTTPClient (clean name: OptimizedHTTPClient)
Generated schema for business entity: HTTPPerformanceMetrics (clean name: HTTPPerformanceMetrics)
Generated schema for business entity: APIKey (clean name: APIKey)
Found business entity HTTPConfigDetails for external selector models.HTTPConfigDetails
Found business entity Persona for external selector models.Persona
2025/08/01 21:32:50 OpenAPI generation completed successfully
2025/08/01 21:32:50 Generated specification with 340 schemas and 54 paths
2025/08/01 21:32:50 âœ“ OpenAPI specification generated successfully using automatic reflection: docs/openapi-3.yaml
2025/08/01 21:32:50 Server starting on :8080 (Gin Mode: debug)
2025/08/01 21:32:50 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:32:50 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:32:50 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:32:50 [WebSocket] Creating new client with security for [::1]:57624 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:50 [WebSocket] Registering client [::1]:57624 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:50 [WebSocket] Starting read/write pumps for client [::1]:57624 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:50 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:32:50 | 200 |    7.411672ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:32:50 [WebSocket] Client [::1]:57624 readPump started
2025/08/01 21:32:50 [WebSocket] Client [::1]:57624 received: {"type":"connection_init","timestamp":"2025-08-01T21:32:50.379Z"}
2025/08/01 21:32:50 Client [::1]:57624 initialized connection with last sequence: 0
2025/08/01 21:32:50 [WebSocket] Client [::1]:57624 received: {"type":"subscribe_campaign","campaignId":"8affd664-504c-47ad-91a9-e21b0f2b972f","timestamp":"2025-08-01T21:32:50.381Z","CampaignID":"8affd664-504c-47ad-91a9-e21b0f2b972f"}
2025/08/01 21:32:50 Client [::1]:57624 subscribed to campaign 8affd664-504c-47ad-91a9-e21b0f2b972f with last sequence: 0
2025/08/01 21:32:50 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:50 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:50 DEBUG GetCampaignByID: About to SELECT campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:50 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f, retrieved metadata: {"currentOffset": 305, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 305, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 20, "total_possible_combinations": 46656}}
2025/08/01 21:32:50 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:50 [DIAGNOSTIC] Successfully sent message to client [::1]:57624 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:50 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, messageType=campaign.progress, totalClients=1, subscribedClients=1, messagesSent=1
2025/08/01 21:32:50 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:32:50 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:50 [DIAGNOSTIC] Successfully sent message to client [::1]:57624 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:50 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, messageType=campaign.state.sync.complete, totalClients=1, subscribedClients=1, messagesSent=1
2025/08/01 21:32:50 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f, limit 100, lastOffset 0
2025/08/01 21:32:50 DEBUG [GetGeneratedDomainsByCampaign]: Found 20 domains for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:50 DEBUG [GetGeneratedDomainsByCampaign]: First domain: ah7copilot.com (DNS: 0xc000729190, HTTP: 0xc0007291a0)
2025/08/01 21:32:50 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:32:50 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:32:50 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 567eb2be-fd4d-46b7-bd08-d386ba6fcaf9}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:32:50 | 200 |    7.182639ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:32:51 [WebSocket] Client [::1]:57624 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:32:51 [WebSocket] Client [::1]:57624 readPump ending, unregistering client
2025/08/01 21:32:51 websocket close message error: websocket: close sent
2025/08/01 21:32:51 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:32:51 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:32:51 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:32:51 [WebSocket] Creating new client with security for [::1]:57646 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:51 [WebSocket] Registering client [::1]:57646 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:51 [WebSocket] Starting read/write pumps for client [::1]:57646 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:51 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:32:51 | 200 |     458.599Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:32:51 [WebSocket] Client [::1]:57646 readPump started
2025/08/01 21:32:51 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f, limit 100, lastOffset 0
2025/08/01 21:32:51 DEBUG [GetGeneratedDomainsByCampaign]: Found 20 domains for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:51 DEBUG [GetGeneratedDomainsByCampaign]: First domain: ah7copilot.com (DNS: 0xc000117b40, HTTP: 0xc000117b50)
2025/08/01 21:32:51 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:32:51 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:32:51 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 5e4c6aed-2b66-4a84-a0fb-e7f12fa274d4}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:32:51 | 200 |    4.147775ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:32:51 [WebSocket] Client [::1]:57646 readPump ending, unregistering client
2025/08/01 21:32:51 websocket close message error: websocket: close sent
2025/08/01 21:32:51 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:32:51 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:32:51 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:32:51 [WebSocket] Creating new client with security for [::1]:57670 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:51 [WebSocket] Registering client [::1]:57670 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:51 [WebSocket] Starting read/write pumps for client [::1]:57670 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:51 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:32:51 | 200 |     178.221Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:32:51 [WebSocket] Client [::1]:57670 readPump started
2025/08/01 21:32:51 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f, limit 100, lastOffset 0
2025/08/01 21:32:51 DEBUG [GetGeneratedDomainsByCampaign]: Found 20 domains for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:51 DEBUG [GetGeneratedDomainsByCampaign]: First domain: ah7copilot.com (DNS: 0xc0002b3460, HTTP: 0xc0002b3470)
2025/08/01 21:32:51 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:32:51 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:32:51 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 0eb6efd3-70aa-41d1-963a-f36f6dedcf2e}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:32:51 | 200 |   46.117785ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:32:51 [WebSocket] Client [::1]:57670 received: {"type":"connection_init","timestamp":"2025-08-01T21:32:51.769Z"}
2025/08/01 21:32:51 Client [::1]:57670 initialized connection with last sequence: 0
2025/08/01 21:32:51 [WebSocket] Client [::1]:57670 received: {"type":"subscribe_campaign","campaignId":"8affd664-504c-47ad-91a9-e21b0f2b972f","timestamp":"2025-08-01T21:32:51.770Z","CampaignID":"8affd664-504c-47ad-91a9-e21b0f2b972f"}
2025/08/01 21:32:51 Client [::1]:57670 subscribed to campaign 8affd664-504c-47ad-91a9-e21b0f2b972f with last sequence: 0
2025/08/01 21:32:51 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:51 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:51 DEBUG GetCampaignByID: About to SELECT campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:51 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f, retrieved metadata: {"currentOffset": 305, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 305, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 20, "total_possible_combinations": 46656}}
2025/08/01 21:32:51 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:51 [DIAGNOSTIC] Successfully sent message to client [::1]:57670 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:51 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, messageType=campaign.progress, totalClients=1, subscribedClients=1, messagesSent=1
2025/08/01 21:32:51 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:32:51 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:51 [DIAGNOSTIC] Successfully sent message to client [::1]:57670 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:51 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, messageType=campaign.state.sync.complete, totalClients=1, subscribedClients=1, messagesSent=1
2025/08/01 21:32:52 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:32:52 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:32:52 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:32:52 [WebSocket] Creating new client with security for [::1]:57672 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:52 [WebSocket] Registering client [::1]:57672 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:52 [WebSocket] Starting read/write pumps for client [::1]:57672 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:52 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:32:52 | 200 |     929.854Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:32:52 [WebSocket] Client [::1]:57672 readPump started
2025/08/01 21:32:52 [WebSocket] Client [::1]:57672 received: {"type":"connection_init","timestamp":"2025-08-01T21:32:52.966Z"}
2025/08/01 21:32:53 Client [::1]:57672 initialized connection with last sequence: 0
2025/08/01 21:32:53 [WebSocket] Client [::1]:57672 received: {"type":"subscribe_campaign","campaignId":"8affd664-504c-47ad-91a9-e21b0f2b972f","timestamp":"2025-08-01T21:32:52.967Z","CampaignID":"8affd664-504c-47ad-91a9-e21b0f2b972f"}
2025/08/01 21:32:53 Client [::1]:57672 subscribed to campaign 8affd664-504c-47ad-91a9-e21b0f2b972f with last sequence: 0
2025/08/01 21:32:53 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:53 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:53 DEBUG GetCampaignByID: About to SELECT campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:53 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f, retrieved metadata: {"currentOffset": 305, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 305, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 20, "total_possible_combinations": 46656}}
2025/08/01 21:32:53 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:53 [DIAGNOSTIC] Successfully sent message to client [::1]:57670 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:53 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:53 [DIAGNOSTIC] Successfully sent message to client [::1]:57672 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:53 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, messageType=campaign.progress, totalClients=2, subscribedClients=2, messagesSent=2
2025/08/01 21:32:53 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:32:53 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:53 [DIAGNOSTIC] Successfully sent message to client [::1]:57670 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:53 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, hasSpecific=true, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:32:53 [DIAGNOSTIC] Successfully sent message to client [::1]:57672 for campaign 8affd664-504c-47ad-91a9-e21b0f2b972f
2025/08/01 21:32:53 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=8affd664-504c-47ad-91a9-e21b0f2b972f, messageType=campaign.state.sync.complete, totalClients=2, subscribedClients=2, messagesSent=2
2025/08/01 21:32:53 [WebSocket] Client [::1]:57672 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:32:53 [WebSocket] Client [::1]:57672 readPump ending, unregistering client
2025/08/01 21:32:53 websocket close message error: websocket: close sent
2025/08/01 21:32:56 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:32:56 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:32:56 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:32:56 [WebSocket] Creating new client with security for [::1]:50772 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:56 [WebSocket] Registering client [::1]:50772 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:56 [WebSocket] Starting read/write pumps for client [::1]:50772 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:32:56 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:32:56 | 200 |  172.194492ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:32:56 [WebSocket] Client [::1]:50772 readPump started
2025/08/01 21:33:12 DEBUG [NewDomainGenerator]: Input - PatternType=prefix, VariableLength=3, CharSet='abcdefghijklmnopqrstuvwxyz0123456789' (len=36), ConstantStr='copilot', TLD='.com'
2025/08/01 21:33:12 DEBUG [NewDomainGenerator]: Processed CharSet - DistinctRunes=36
2025/08/01 21:33:12 DEBUG [power]: Calculating 36^3
2025/08/01 21:33:12 DEBUG [power]: Iteration 0, result=36
2025/08/01 21:33:12 DEBUG [power]: Iteration 1, result=1296
2025/08/01 21:33:12 DEBUG [power]: Iteration 2, result=46656
2025/08/01 21:33:12 DEBUG [power]: Final result=46656
2025/08/01 21:33:12 DEBUG [NewDomainGenerator]: Prefix/Suffix - CharsetSize=36, VariableLength=3, TotalCombinations=46656
2025/08/01 21:33:12 DEBUG [NewDomainGenerator]: SUCCESS - Final TotalCombinations=46656
2025/08/01 21:33:12 DEBUG [PatternOffset]: Looking up config state for hash: 69b87cf98bfcdb4b5ad3db49eafc9b4ed625066ad2dc42b9e78f213e5ababffc
2025/08/01 21:33:12 DEBUG [PatternOffset]: Found config state with LastOffset: 305
2025/08/01 21:33:12 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:12 DEBUG [respondWithJSONGin]: Original payload type: api.PatternOffsetResponse
2025/08/01 21:33:12 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: api.PatternOffsetResponse, requestId: b0558e27-857c-4bc9-88d8-b65be10f89ef}
[GIN] 2025/08/01 - 21:33:12 | 200 |   118.75221ms |             ::1 | POST     "/api/v2/campaigns/domain-generation/pattern-offset"
2025/08/01 21:33:14 Creating lead generation campaign using standalone service: test---f-fdffdgdfg
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: Input - PatternType=prefix, VariableLength=3, CharSet='abcdefghijklmnopqrstuvwxyz0123456789' (len=36), ConstantStr='copilot', TLD='.com'
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: Processed CharSet - DistinctRunes=36
2025/08/01 21:33:14 DEBUG [power]: Calculating 36^3
2025/08/01 21:33:14 DEBUG [power]: Iteration 0, result=36
2025/08/01 21:33:14 DEBUG [power]: Iteration 1, result=1296
2025/08/01 21:33:14 DEBUG [power]: Iteration 2, result=46656
2025/08/01 21:33:14 DEBUG [power]: Final result=46656
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: Prefix/Suffix - CharsetSize=36, VariableLength=3, TotalCombinations=46656
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: SUCCESS - Final TotalCombinations=46656
2025/08/01 21:33:14 DEBUG CreateCampaign: Calculated total_possible_combinations=46656 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: Found existing config state with offset 305 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: Storing metadata: {"domain_generation_config":{"batch_size":100,"character_set":"abcdefghijklmnopqrstuvwxyz0123456789","constant_string":"copilot","current_offset":305,"num_domains_to_generate":10,"pattern_type":"prefix","tlds":["com"],"total_possible_combinations":46656,"variable_length":3}}
2025/08/01 21:33:14 DEBUG CreateCampaign: About to call store.CreateCampaign for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: About to INSERT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with metadata: {"domain_generation_config":{"batch_size":100,"character_set":"abcdefghijklmnopqrstuvwxyz0123456789","constant_string":"copilot","current_offset":305,"num_domains_to_generate":10,"pattern_type":"prefix","tlds":["com"],"total_possible_combinations":46656,"variable_length":3}}
2025/08/01 21:33:14 DEBUG CreateCampaign: INSERT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: store.CreateCampaign SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: About to create campaign phases for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Created standard campaign phases for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: CreateCampaignPhases SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: About to call InitializePhase1 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG InitializePhase1: Starting initialization for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 305, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:14 DEBUG InitializePhase1: GetCampaign SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG InitializePhase1: Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb has metadata, attempting to parse
2025/08/01 21:33:14 DEBUG InitializePhase1: Metadata JSON unmarshaling SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG InitializePhase1: Available metadata keys: [domain_generation_config]
2025/08/01 21:33:14 DEBUG InitializePhase1: Found domain_generation_config key for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG InitializePhase1: Successfully cast config to map for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG InitializePhase1: Extracted domain config: {PatternType:prefix VariableLength:3 CharacterSet:abcdefghijklmnopqrstuvwxyz0123456789 ConstantString:copilot TLDs:[com] NumDomainsToGenerate:10 BatchSize:100}
2025/08/01 21:33:14 InitializePhase1: Starting domain generation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with config: {PatternType:prefix VariableLength:3 CharacterSet:abcdefghijklmnopqrstuvwxyz0123456789 ConstantString:copilot TLDs:[com] NumDomainsToGenerate:10 BatchSize:100}
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Starting for campaignID 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 [ProcessGenerationCampaignBatch] SQL Transaction started for 28aa0360-021b-4871-ab96-12cd57b0f5bb.
2025/08/01 21:33:14 [TX_begin_success] 2025-08-01T21:33:14Z | ID:28aa0360-021b-4871-ab96-12cd57b0f5bb | OP:process_batch | SUCCESS
2025/08/01 21:33:14 DatabaseConnectionMetrics: Connection pool stats for ProcessBatch_tx_start on campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 305, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb marked as InProgress (was not_started).
2025/08/01 21:33:14 ðŸŸ¢ [WEBSOCKET_BROADCAST_DEBUG] BroadcastCampaignProgress called: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, progress=0.00, status=in_progress, phase=domain_generation
2025/08/01 21:33:14 âœ… [WEBSOCKET_BROADCAST_DEBUG] Broadcaster available, creating standardized message
2025/08/01 21:33:14 ðŸ“¤ [WEBSOCKET_BROADCAST_DEBUG] Broadcasting message with type: campaign_progress
2025/08/01 21:33:14 âœ… [WEBSOCKET_BROADCAST_DEBUG] Message sent successfully with type: campaign_progress
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Parsing config for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found nested domain_generation_config
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found pattern_type: prefix
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found variable_length: 3
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found character_set: abcdefghijklmnopqrstuvwxyz0123456789 (len=36)
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found constant_string: copilot
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found TLD from array: com
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Using normalized TLD: .com
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found num_domains_to_generate: 10
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found total_possible_combinations: 46656
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Found current_offset: 305
2025/08/01 21:33:14 DEBUG [ProcessGenerationCampaignBatch]: Final genParams.VariableLength = 3
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: Input - PatternType=prefix, VariableLength=3, CharSet='abcdefghijklmnopqrstuvwxyz0123456789' (len=36), ConstantStr='copilot', TLD='.com'
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: Processed CharSet - DistinctRunes=36
2025/08/01 21:33:14 DEBUG [power]: Calculating 36^3
2025/08/01 21:33:14 DEBUG [power]: Iteration 0, result=36
2025/08/01 21:33:14 DEBUG [power]: Iteration 1, result=1296
2025/08/01 21:33:14 DEBUG [power]: Iteration 2, result=46656
2025/08/01 21:33:14 DEBUG [power]: Final result=46656
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: Prefix/Suffix - CharsetSize=36, VariableLength=3, TotalCombinations=46656
2025/08/01 21:33:14 DEBUG [NewDomainGenerator]: SUCCESS - Final TotalCombinations=46656
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Configured memory-efficient generation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb (memory limit: 256MB)
2025/08/01 21:33:14 Worker pool status: 5 active workers, 10 queued tasks, CPU: 0.00%
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb - CPU: 0.00%, Memory: 0.00%, Original batch: 10, Optimized batch: 10
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: About to generate domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Generation parameters - CurrentOffset: 305, OptimizedBatchSize: 10, TotalPossible: 46656
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Pattern details - Type: prefix, VarLength: 3, CharSet: abcdefghijklmnopqrstuvwxyz0123456789, ConstantString: copilot, TLD: .com
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Domain generation completed for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Generated 10 domains, NextOffset: 315, Error: <nil>
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Sample generated domains: [aircopilot.com aiscopilot.com aitcopilot.com]
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aircopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aircopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aircopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aiscopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aiscopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aiscopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aitcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aitcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aitcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aiucopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aiucopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aiucopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aivcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aivcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aivcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aiwcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aiwcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aiwcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aixcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aixcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aixcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aiycopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aiycopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aiycopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain aizcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain aizcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain aizcopilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized DNS status to 'pending' for domain ai0copilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized HTTP status to 'pending' for domain ai0copilot.com
2025/08/01 21:33:14 DEBUG [CreateGeneratedDomains]: Initialized lead score to 0.0 for domain ai0copilot.com
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Saved 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb.
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Removing real-time domain streaming for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 âœ… [CRITICAL_FIX] Successfully updated JSONB domains_data with 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 ðŸ”µ [DOMAIN_STREAMING_DEBUG] Starting to stream 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 â„¹ï¸ [DOMAIN_GENERATION] Generated 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb - domain data available via REST API
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Real-time streaming completed for 10 domains in campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG [Global Offset]: ConfigManager is nil, using direct store access for hash 69b87cf98bfcdb4b5ad3db49eafc9b4ed625066ad2dc42b9e78f213e5ababffc
2025/08/01 21:33:14 DEBUG [Global Offset]: About to update global offset for hash 69b87cf98bfcdb4b5ad3db49eafc9b4ed625066ad2dc42b9e78f213e5ababffc from current offset to 315 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 SUCCESS [Global Offset]: Updated global offset for config hash 69b87cf98bfcdb4b5ad3db49eafc9b4ed625066ad2dc42b9e78f213e5ababffc to 315 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 SUCCESS [Campaign Metadata]: Updated campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb metadata current_offset to 315
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb progress calculation:
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] - newProcessedItems: 10
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] - genParams.NumDomainsToGenerate: 10
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] - genParams.CurrentOffset: 315
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] - genParams.TotalPossibleCombinations: 46656
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] - Target mode: NumDomainsToGenerate
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] - generationProgress: 100.00%
2025/08/01 21:33:14 ðŸ” [HARDCODED PROGRESS DEBUG] - scaled progressPercentage: 33.00%
2025/08/01 21:33:14 [COMPLETION_DEBUG] Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb - Checking completion conditions:
2025/08/01 21:33:14 [COMPLETION_DEBUG] - NumDomainsToGenerate: 10
2025/08/01 21:33:14 [COMPLETION_DEBUG] - newProcessedItems: 10
2025/08/01 21:33:14 [COMPLETION_DEBUG] - CurrentOffset: 315
2025/08/01 21:33:14 [COMPLETION_DEBUG] - TotalPossibleCombinations: 46656
2025/08/01 21:33:14 [COMPLETION_DEBUG] - Condition1 (target reached): true
2025/08/01 21:33:14 [COMPLETION_DEBUG] - Condition2 (offset exhausted): false
2025/08/01 21:33:14 [COMPLETION_DEBUG] - processedInThisBatch: 10
2025/08/01 21:33:14 [COMPLETION_DEBUG] âœ… COMPLETION TRIGGERED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Domain generation complete for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb - Individual Phase Mode, staying in generation phase for manual configuration
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb completed. Processed: 10. Target: 10. Global Offset: 315. Total Possible: 46656
2025/08/01 21:33:14 ðŸŸ¢ [WEBSOCKET_BROADCAST_DEBUG] BroadcastCampaignProgress called: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, progress=100.00, status=completed, phase=domain_generation
2025/08/01 21:33:14 âœ… [WEBSOCKET_BROADCAST_DEBUG] Broadcaster available, creating standardized message
2025/08/01 21:33:14 ðŸ“¤ [WEBSOCKET_BROADCAST_DEBUG] Broadcasting message with type: campaign_progress
2025/08/01 21:33:14 âœ… [WEBSOCKET_BROADCAST_DEBUG] Message sent successfully with type: campaign_progress
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb generation phase complete. Waiting for user to configure DNS validation phase.
2025/08/01 21:33:14 ProcessGenerationCampaignBatch: Finished batch for campaignID 28aa0360-021b-4871-ab96-12cd57b0f5bb. ProcessedInBatch: 10, DoneForJob: true, CampaignProcessedItems: 10, NewCampaignGlobalOffset: 315
2025/08/01 21:33:14 [ProcessGenerationCampaignBatch] SQL Transaction committed for 28aa0360-021b-4871-ab96-12cd57b0f5bb.
2025/08/01 21:33:14 [TX_commit_success] 2025-08-01T21:33:14Z | ID:28aa0360-021b-4871-ab96-12cd57b0f5bb | OP:process_batch | SUCCESS
2025/08/01 21:33:14 DatabaseConnectionMetrics: Connection pool stats for ProcessBatch_tx_end on campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 InitializePhase1: First batch processed - Campaign: 28aa0360-021b-4871-ab96-12cd57b0f5bb, BatchDone: true, ProcessedCount: 10
2025/08/01 21:33:14 DEBUG: Domain generation successfully started for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 UpdateCampaignStatus: Setting status 'in_progress' for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb using phase-first approach
2025/08/01 21:33:14 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:14 Updated phase domain_generation status to in_progress for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 Successfully updated phase domain_generation status to 'in_progress' for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb (campaign auto-synced)
2025/08/01 21:33:14 [DIAGNOSTIC] BroadcastStandardizedMessage called:
2025/08/01 21:33:14   CampaignID: 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14   Message Type: campaign_status
2025/08/01 21:33:14   Message Timestamp: 2025-08-01 21:33:14.637891753 +0000 UTC m=+24.599800771
2025/08/01 21:33:14   Active Clients: 2
2025/08/01 21:33:14 [DIAGNOSTIC] Message JSON length: 178 bytes
2025/08/01 21:33:14 [DIAGNOSTIC] Message JSON full: {"type":"campaign_status","timestamp":"2025-08-01T21:33:14.637891753Z","data":{"campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","phaseStatus":"Status updated to in_progress"}}
2025/08/01 21:33:14 [DIAGNOSTIC] Message sent to client 0xc000a6c280
2025/08/01 21:33:14 [DIAGNOSTIC] Message sent to client 0xc000a6c230
2025/08/01 21:33:14 [DIAGNOSTIC] Successfully broadcast to 2 clients
2025/08/01 21:33:14 Broadcasted campaign update: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.status.updated, message=Status updated to in_progress
2025/08/01 21:33:14 [DIAGNOSTIC] BroadcastStandardizedMessage called:
2025/08/01 21:33:14   CampaignID: 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14   Message Type: campaign.phase.transition
2025/08/01 21:33:14   Message Timestamp: 2025-08-01 21:33:14.638119576 +0000 UTC m=+24.600028595
2025/08/01 21:33:14   Active Clients: 2
2025/08/01 21:33:14 [DIAGNOSTIC] Message JSON length: 381 bytes
2025/08/01 21:33:14 [DIAGNOSTIC] Message JSON preview: {"type":"campaign.phase.transition","timestamp":"2025-08-01T21:33:14.638119576Z","data":{"campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","newPhase":"domain_generation","newStatus":"Phase 1 initial...
2025/08/01 21:33:14 [DIAGNOSTIC] Message sent to client 0xc000a6c280
2025/08/01 21:33:14 [DIAGNOSTIC] Message sent to client 0xc000a6c230
2025/08/01 21:33:14 [DIAGNOSTIC] Successfully broadcast to 2 clients
2025/08/01 21:33:14 Broadcasted phase transition: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, fromPhase=, toPhase=domain_generation, message=Phase 1 initialized with 10 target domains
2025/08/01 21:33:14 InitializePhase1: Successfully initialized Phase 1 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 DEBUG CreateCampaign: InitializePhase1 SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 [DIAGNOSTIC] BroadcastStandardizedMessage called:
2025/08/01 21:33:14   CampaignID: 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14   Message Type: campaign_status
2025/08/01 21:33:14   Message Timestamp: 2025-08-01 21:33:14.638226951 +0000 UTC m=+24.600135963
2025/08/01 21:33:14   Active Clients: 2
2025/08/01 21:33:14 [DIAGNOSTIC] Message JSON length: 190 bytes
2025/08/01 21:33:14 [DIAGNOSTIC] Message JSON full: {"type":"campaign_status","timestamp":"2025-08-01T21:33:14.638226951Z","data":{"campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","phaseStatus":"Campaign created with Phase 1 initialized"}}
2025/08/01 21:33:14 [DIAGNOSTIC] Message sent to client 0xc000a6c280
2025/08/01 21:33:14 [DIAGNOSTIC] Message sent to client 0xc000a6c230
2025/08/01 21:33:14 [DIAGNOSTIC] Successfully broadcast to 2 clients
2025/08/01 21:33:14 Broadcasted campaign update: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.created, message=Campaign created with Phase 1 initialized
2025/08/01 21:33:14 Successfully created lead generation campaign: 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 [DIAGNOSTIC] BroadcastCampaignCreated called: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:14 âœ… [DIAGNOSTIC] Standardized campaign.list.update message sent for create
2025/08/01 21:33:14 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:14 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:14 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 7f0e2ff4-7aec-4fa4-83f0-ea9805dc6eb1}
[GIN] 2025/08/01 - 21:33:14 | 201 |   228.11344ms |             ::1 | POST     "/api/v2/campaigns/lead-generation"
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000554430, HTTP: 0xc000554440)
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 679dc7bd-f284-443a-99ac-9bfd5ba087b7}
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
[GIN] 2025/08/01 - 21:33:15 | 200 |   20.798241ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000704370, HTTP: 0xc000704380)
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 7594584c-3234-4556-9d69-aac5ab1f87f4}
[GIN] 2025/08/01 - 21:33:15 | 200 |   48.022719ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:15 [WebSocket] Creating new client with security for [::1]:35858 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:15 [WebSocket] Registering client [::1]:35858 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:15 [WebSocket] Starting read/write pumps for client [::1]:35858 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:15 | 200 |    1.020589ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:15 [WebSocket] Client [::1]:35858 readPump started
2025/08/01 21:33:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:15 [WebSocket] Creating new client with security for [::1]:35864 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:15 [WebSocket] Registering client [::1]:35864 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:15 [WebSocket] Starting read/write pumps for client [::1]:35864 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:15 | 200 |     483.513Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:15 [WebSocket] Client [::1]:35864 readPump started
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000316a60, HTTP: 0xc000316a70)
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 0a54b2f7-48a4-496c-8dab-2f00cbc2c83b}
[GIN] 2025/08/01 - 21:33:15 | 200 |   27.951236ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000554060, HTTP: 0xc000554070)
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 3039db1a-661c-420a-bff8-9bcd88ce8105}
[GIN] 2025/08/01 - 21:33:15 | 200 |   48.849835ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:15 [WebSocket] Client [::1]:35858 readPump ending, unregistering client
2025/08/01 21:33:15 websocket close message error: websocket: close sent
2025/08/01 21:33:16 [WebSocket] Client [::1]:35864 received: {"type":"connection_init","timestamp":"2025-08-01T21:33:16.392Z"}
2025/08/01 21:33:16 Client [::1]:35864 initialized connection with last sequence: 0
2025/08/01 21:33:16 [WebSocket] Client [::1]:35864 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:33:16.396Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:33:16 Client [::1]:35864 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:33:16 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:16 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:16 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:16 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=3, subscribedClients=1, messagesSent=1
2025/08/01 21:33:16 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:33:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=3, subscribedClients=1, messagesSent=1
2025/08/01 21:33:17 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:17 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:17 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:17 [WebSocket] Creating new client with security for [::1]:49506 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:17 [WebSocket] Registering client [::1]:49506 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:17 [WebSocket] Starting read/write pumps for client [::1]:49506 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:17 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:17 | 200 |      210.71Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:17 [WebSocket] Client [::1]:49506 readPump started
2025/08/01 21:33:17 [WebSocket] Client [::1]:49506 received: {"type":"connection_init","timestamp":"2025-08-01T21:33:17.403Z"}
2025/08/01 21:33:17 Client [::1]:49506 initialized connection with last sequence: 0
2025/08/01 21:33:17 [WebSocket] Client [::1]:49506 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:33:17.404Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:33:17 Client [::1]:49506 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:33:17 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:17 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:17 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:17 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49506 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=4, subscribedClients=2, messagesSent=2
2025/08/01 21:33:17 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49506 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=4, subscribedClients=2, messagesSent=2
2025/08/01 21:33:19 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:19 DEBUG [respondWithJSONGin]: Original payload type: []api.PersonaResponse
2025/08/01 21:33:19 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: []api.PersonaResponse, requestId: f5678477-20c6-4182-b496-b4e5a57e5f37}
[GIN] 2025/08/01 - 21:33:19 | 200 |    5.771832ms |             ::1 | GET      "/api/v2/personas"
2025/08/01 21:33:19 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:19 DEBUG [respondWithJSONGin]: Original payload type: []*models.Proxy
2025/08/01 21:33:19 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: []*models.Proxy, requestId: df3f7684-08c4-4350-af89-d4eab1232752}
[GIN] 2025/08/01 - 21:33:19 | 200 |    6.917482ms |             ::1 | GET      "/api/v2/proxies"
[GIN] 2025/08/01 - 21:33:21 | 204 |     258.854Âµs |             ::1 | OPTIONS  "/api/v2/campaigns/28aa0360-021b-4871-ab96-12cd57b0f5bb/phases/dns_validation/configure"
2025/08/01 21:33:21 Configuring phase dns_validation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb using standalone services
2025/08/01 21:33:21 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:21 ConfigurePhase: Stored DNS validation config for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 [DIAGNOSTIC] BroadcastStandardizedMessage called:
2025/08/01 21:33:21   CampaignID: 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21   Message Type: phase.state.changed
2025/08/01 21:33:21   Message Timestamp: 2025-08-01 21:33:21.788654541 +0000 UTC m=+31.750563560
2025/08/01 21:33:21   Active Clients: 4
2025/08/01 21:33:21 [DIAGNOSTIC] Message JSON length: 242 bytes
2025/08/01 21:33:21 [DIAGNOSTIC] Message JSON preview: {"type":"phase.state.changed","timestamp":"2025-08-01T21:33:21.788654541Z","data":{"campaign_id":"28aa0360-021b-4871-ab96-12cd57b0f5bb","phase":"dns_validation","old_state":"ready","new_state":"config...
2025/08/01 21:33:21 [DIAGNOSTIC] Message sent to client 0xc000a6c280
2025/08/01 21:33:21 [DIAGNOSTIC] Message sent to client 0xc000a6c230
2025/08/01 21:33:21 [DIAGNOSTIC] Message sent to client 0xc000a6c0f0
2025/08/01 21:33:21 [DIAGNOSTIC] Message sent to client 0xc000318500
2025/08/01 21:33:21 [DIAGNOSTIC] Successfully broadcast to 4 clients
2025/08/01 21:33:21 Broadcast phase state change: campaign=28aa0360-021b-4871-ab96-12cd57b0f5bb, phase=dns_validation, ready->configured
2025/08/01 21:33:21 ConfigurePhase: Successfully configured phase dns_validation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: dc0d55b1-0b52-4d87-818c-cd5c1fe73c21}
[GIN] 2025/08/01 - 21:33:21 | 200 |    9.913993ms |             ::1 | POST     "/api/v2/campaigns/28aa0360-021b-4871-ab96-12cd57b0f5bb/phases/dns_validation/configure"
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000729b90, HTTP: 0xc000729ba0)
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 0a620b45-911b-4fca-bf8e-8ee546d8f192}
[GIN] 2025/08/01 - 21:33:21 | 200 |    8.988476ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000117790, HTTP: 0xc0001177a0)
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 224edd64-2a1c-418f-8ce2-c07b2d6a4b51}
[GIN] 2025/08/01 - 21:33:21 | 200 |   12.636948ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:21 [WebSocket] Client [::1]:49506 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:33:21 [WebSocket] Client [::1]:49506 readPump ending, unregistering client
2025/08/01 21:33:21 websocket close message error: websocket: close sent
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0006f27c0, HTTP: 0xc0006f27d0)
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 1e59fdbb-03a2-4303-a2a9-04812e237ca1}
[GIN] 2025/08/01 - 21:33:21 | 200 |   10.630558ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:21 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:21 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:21 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:21 [WebSocket] Creating new client with security for [::1]:49532 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:21 [WebSocket] Registering client [::1]:49532 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:21 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:21 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:21 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:21 [WebSocket] Starting read/write pumps for client [::1]:49532 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:21 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:21 | 200 |   37.846015ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:21 [WebSocket] Client [::1]:49532 readPump started
2025/08/01 21:33:21 [WebSocket] Client [::1]:49532 readPump ending, unregistering client
2025/08/01 21:33:21 websocket close message error: websocket: close sent
2025/08/01 21:33:21 [WebSocket] Creating new client with security for [::1]:49538 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:21 [WebSocket] Registering client [::1]:49538 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:21 [WebSocket] Starting read/write pumps for client [::1]:49538 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:21 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:21 | 200 |    9.051149ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:21 [WebSocket] Client [::1]:49538 readPump started
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0006f30c0, HTTP: 0xc0006f30d0)
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 8e01f812-c4c9-4b8f-a5e8-02eeb3287524}
[GIN] 2025/08/01 - 21:33:21 | 200 |   38.433584ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:21 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0004d0580, HTTP: 0xc0004d0590)
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:21 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 71fbfdf9-0510-482a-807f-21152310727f}
[GIN] 2025/08/01 - 21:33:21 | 200 |   27.319853ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:22 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:22 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:22 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:22 [WebSocket] Creating new client with security for [::1]:49542 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:22 [WebSocket] Registering client [::1]:49542 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:22 [WebSocket] Starting read/write pumps for client [::1]:49542 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:22 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:22 | 200 |     500.003Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:22 [WebSocket] Client [::1]:49542 readPump started
2025/08/01 21:33:22 [WebSocket] Client [::1]:49538 readPump ending, unregistering client
2025/08/01 21:33:22 websocket close message error: websocket: close sent
2025/08/01 21:33:22 [WebSocket] Client [::1]:49542 received: {"type":"connection_init","timestamp":"2025-08-01T21:33:22.482Z"}
2025/08/01 21:33:22 Client [::1]:49542 initialized connection with last sequence: 0
2025/08/01 21:33:22 [WebSocket] Client [::1]:49542 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:33:22.483Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:33:22 Client [::1]:49542 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:33:22 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:22 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:22 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:22 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:22 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:22 [DIAGNOSTIC] Successfully sent message to client [::1]:49542 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:22 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=4, subscribedClients=2, messagesSent=2
2025/08/01 21:33:22 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:22 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:22 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:22 [DIAGNOSTIC] Successfully sent message to client [::1]:49542 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:22 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=4, subscribedClients=2, messagesSent=2
[GIN] 2025/08/01 - 21:33:23 | 204 |      15.042Âµs |             ::1 | OPTIONS  "/api/v2/campaigns/28aa0360-021b-4871-ab96-12cd57b0f5bb/phases/dns_validation/start"
2025/08/01 21:33:23 Starting phase dns_validation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb using standalone services
2025/08/01 21:33:23 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:23 StartPhase: Starting phase dns_validation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb (mode: step-by-step)
2025/08/01 21:33:23 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 10000, lastOffset 0
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000554470, HTTP: 0xc000554480)
2025/08/01 21:33:23 validatePhaseConfiguration: Phase dns_validation configuration found in metadata
2025/08/01 21:33:23 validatePhaseReadiness: Phase dns_validation is ready to start for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 startDNSValidationPhase: Starting DNS validation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb using service layer
2025/08/01 21:33:23 ProcessDNSValidationCampaignBatch: Starting for campaignID 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 SQL Transaction started for ProcessDNSValidationCampaignBatch 28aa0360-021b-4871-ab96-12cd57b0f5bb.
2025/08/01 21:33:23 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:23 ProcessDNSValidationCampaignBatch: Grouped 3 DNS personas into 3 unique configurations for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 ProcessDNSValidationCampaignBatch: Performing bulk DNS validation for 10 domains
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 DEBUG [UpdateDomainDNSStatus]: Updated domain DNS status to 'pending' for domain ID 526ac153-39d4-4318-81bf-b51b70221e01
2025/08/01 21:33:23 DEBUG [CreateDNSValidationResults]: Updated domain DNS status to 'pending' for 
2025/08/01 21:33:23 ProcessDNSValidationCampaignBatch: Saved 10 DNS results for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb.
2025/08/01 21:33:23 ProcessDNSValidationCampaignBatch: Updated campaign DNSResults JSONB for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with 10 results
2025/08/01 21:33:23 WARNING: ProcessedItems would exceed TotalItems (10 + 10 > 10), capping at TotalItems
2025/08/01 21:33:23 [MULTI-PHASE] DNS validation progress for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% within phase, 66.0% overall (33-66% range)
2025/08/01 21:33:23 Completed phase dns_validation for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 [PHASE-TRANSITION] Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb completed DNS validation, transitioning to HTTP validation at 66.0% progress
2025/08/01 21:33:23 ðŸŸ¢ [WEBSOCKET_BROADCAST_DEBUG] BroadcastCampaignProgress called: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, progress=100.00, status=completed, phase=dns_validation
2025/08/01 21:33:23 âœ… [WEBSOCKET_BROADCAST_DEBUG] Broadcaster available, creating standardized message
2025/08/01 21:33:23 ðŸ“¤ [WEBSOCKET_BROADCAST_DEBUG] Broadcasting message with type: campaign_progress
2025/08/01 21:33:23 âœ… [WEBSOCKET_BROADCAST_DEBUG] Message sent successfully with type: campaign_progress
2025/08/01 21:33:23 ProcessDNSValidationCampaignBatch: Campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb DNS validation phase complete. Waiting for user to configure HTTP validation phase.
2025/08/01 21:33:23 ProcessDNSValidationCampaignBatch: Finished batch for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb. ProcessedInBatch: 10, DoneForJob: true, CampaignProcessed: 10/10, Final opErr: <nil>
2025/08/01 21:33:23 SQL Transaction committed for ProcessDNSValidationCampaignBatch 28aa0360-021b-4871-ab96-12cd57b0f5bb.
2025/08/01 21:33:23 startDNSValidationPhase: DNS validation batch processed for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb - done: true, processed: 10
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: f148a1ce-e428-4737-b4f2-1609f75e6039}
[GIN] 2025/08/01 - 21:33:23 | 200 |   71.586741ms |             ::1 | POST     "/api/v2/campaigns/28aa0360-021b-4871-ab96-12cd57b0f5bb/phases/dns_validation/start"
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0007285b0, HTTP: 0xc0007285c0)
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 8a326c96-fc99-49e0-aca9-d7fd76a7a3c5}
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000704870, HTTP: 0xc000704880)
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 3ab805b2-07bf-4007-8e5b-0651a6898ee9}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:33:23 | 200 |    5.808639ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:33:23 | 200 |    6.235336ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:23 [WebSocket] Client [::1]:49542 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:33:23 [WebSocket] Client [::1]:49542 readPump ending, unregistering client
2025/08/01 21:33:23 websocket close message error: websocket: close sent
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0004d0090, HTTP: 0xc0004d00a0)
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 0a12bca5-103f-48c1-b542-4b8965d1d4b1}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:33:23 | 200 |   29.823861ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:23 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:23 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:23 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:23 [WebSocket] Creating new client with security for [::1]:49544 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 [WebSocket] Registering client [::1]:49544 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 [WebSocket] Starting read/write pumps for client [::1]:49544 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:23 | 200 |     409.484Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:23 [WebSocket] Client [::1]:49544 readPump started
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000704390, HTTP: 0xc0007043a0)
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: a3bf7123-505b-4fc4-8804-73ab6dc679ea}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:33:23 | 200 |    3.219647ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0006f38f0, HTTP: 0xc0006f3900)
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:33:23 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 8af87d20-a780-4d30-b330-33f4a265de61}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:33:23 | 200 |    4.741349ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:33:23 [WebSocket] Client [::1]:49544 readPump ending, unregistering client
2025/08/01 21:33:23 websocket close message error: websocket: close sent
2025/08/01 21:33:23 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:23 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:23 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:23 [WebSocket] Creating new client with security for [::1]:49554 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 [WebSocket] Registering client [::1]:49554 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 [WebSocket] Starting read/write pumps for client [::1]:49554 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:23 | 200 |     675.375Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:23 [WebSocket] Client [::1]:49554 readPump started
2025/08/01 21:33:23 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:23 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:23 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:23 [WebSocket] Creating new client with security for [::1]:49566 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 [WebSocket] Registering client [::1]:49566 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 [WebSocket] Starting read/write pumps for client [::1]:49566 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:23 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:23 | 200 |    1.164929ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:23 [WebSocket] Client [::1]:49566 readPump started
2025/08/01 21:33:23 [WebSocket] Client [::1]:49554 readPump ending, unregistering client
2025/08/01 21:33:23 websocket close message error: websocket: close sent
2025/08/01 21:33:23 [WebSocket] Client [::1]:49566 received: {"type":"connection_init","timestamp":"2025-08-01T21:33:23.622Z"}
2025/08/01 21:33:23 Client [::1]:49566 initialized connection with last sequence: 0
2025/08/01 21:33:23 [WebSocket] Client [::1]:49566 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:33:23.622Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:33:23 Client [::1]:49566 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:33:23 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:23 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:23 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=4, subscribedClients=2, messagesSent=2
2025/08/01 21:33:23 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:23 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:23 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:23 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:23 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=4, subscribedClients=2, messagesSent=2
2025/08/01 21:33:24 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:33:24 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:33:24 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:33:24 [WebSocket] Creating new client with security for [::1]:49572 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:24 [WebSocket] Registering client [::1]:49572 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:24 [WebSocket] Starting read/write pumps for client [::1]:49572 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:33:24 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:33:24 | 200 |     332.883Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:33:24 [WebSocket] Client [::1]:49572 readPump started
2025/08/01 21:33:24 [WebSocket] Client [::1]:49572 received: {"type":"connection_init","timestamp":"2025-08-01T21:33:24.626Z"}
2025/08/01 21:33:24 Client [::1]:49572 initialized connection with last sequence: 0
2025/08/01 21:33:24 [WebSocket] Client [::1]:49572 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:33:24.627Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:33:24 Client [::1]:49572 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:33:24 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:24 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:24 [DIAGNOSTIC] Successfully sent message to client [::1]:49572 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:24 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=5, subscribedClients=3, messagesSent=3
2025/08/01 21:33:24 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:24 [DIAGNOSTIC] Successfully sent message to client [::1]:49572 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:24 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:33:24 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:33:24 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:33:24 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=5, subscribedClients=3, messagesSent=3
2025/08/01 21:33:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084006681},"timestamp":"2025-08-01T21:33:26.681Z"}
2025/08/01 21:33:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084036684},"timestamp":"2025-08-01T21:33:56.684Z"}
2025/08/01 21:34:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:34:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc00030c5a0, HTTP: 0xc00030c5b0)
2025/08/01 21:34:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:34:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:34:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: f6a3931e-33f2-4de0-a9ff-d99dc4375cfd}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:34:15 | 200 |   25.608601ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:34:15 [WebSocket] Client [::1]:49572 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:34:15 [WebSocket] Client [::1]:49572 readPump ending, unregistering client
2025/08/01 21:34:15 websocket close message error: websocket: close sent
2025/08/01 21:34:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:34:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:34:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:34:15 [WebSocket] Creating new client with security for [::1]:39326 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:15 [WebSocket] Registering client [::1]:39326 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:15 [WebSocket] Starting read/write pumps for client [::1]:39326 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:34:15 | 200 |   18.370023ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:34:15 [WebSocket] Client [::1]:39326 readPump started
2025/08/01 21:34:16 [WebSocket] Client [::1]:39326 readPump ending, unregistering client
2025/08/01 21:34:16 websocket close message error: websocket: close sent
2025/08/01 21:34:16 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:34:16 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:34:16 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:34:16 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:34:16 [WebSocket] Creating new client with security for [::1]:39342 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:16 [WebSocket] Registering client [::1]:39342 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:16 [WebSocket] Starting read/write pumps for client [::1]:39342 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:16 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:34:16 | 200 |    1.097451ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:34:16 [WebSocket] Client [::1]:39342 readPump started
2025/08/01 21:34:16 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:34:16 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0004d11b0, HTTP: 0xc0004d11c0)
2025/08/01 21:34:16 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:34:16 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:34:16 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 317214d4-dce9-4d7c-986d-5fc1831438e4}
2025/08/01 21:34:16 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000704a20, HTTP: 0xc000704a30)
2025/08/01 21:34:16 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:34:16 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:34:16 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 67a03726-50af-425f-80d6-6e8bdd99e9fc}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:34:16 | 200 |   82.880491ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:34:16 | 200 |   79.888822ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:34:16 [WebSocket] Client [::1]:39342 received: {"type":"connection_init","timestamp":"2025-08-01T21:34:16.428Z"}
2025/08/01 21:34:16 Client [::1]:39342 initialized connection with last sequence: 0
2025/08/01 21:34:16 [WebSocket] Client [::1]:39342 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:34:16.430Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:34:16 Client [::1]:39342 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:34:16 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:16 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:16 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=5, subscribedClients=3, messagesSent=3
2025/08/01 21:34:16 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:16 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:16 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=5, subscribedClients=3, messagesSent=3
2025/08/01 21:34:17 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:34:17 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:34:17 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:34:17 [WebSocket] Creating new client with security for [::1]:39136 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:17 [WebSocket] Registering client [::1]:39136 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:17 [WebSocket] Starting read/write pumps for client [::1]:39136 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:34:17 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:34:17 | 200 |    7.789543ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:34:17 [WebSocket] Client [::1]:39136 readPump started
2025/08/01 21:34:17 [WebSocket] Client [::1]:39136 received: {"type":"connection_init","timestamp":"2025-08-01T21:34:17.631Z"}
2025/08/01 21:34:17 Client [::1]:39136 initialized connection with last sequence: 0
2025/08/01 21:34:17 [WebSocket] Client [::1]:39136 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:34:17.632Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:34:17 Client [::1]:39136 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:34:17 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39136 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:34:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=6, subscribedClients=4, messagesSent=4
2025/08/01 21:34:17 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39136 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:34:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:34:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=6, subscribedClients=4, messagesSent=4
2025/08/01 21:34:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084066681},"timestamp":"2025-08-01T21:34:26.681Z"}
2025/08/01 21:34:50 DistributedCacheManager: Hot data preloader cycle started
2025/08/01 21:34:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084096681},"timestamp":"2025-08-01T21:34:56.681Z"}
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000705230, HTTP: 0xc000705240)
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 737aecdb-bf11-42e7-ae75-48499dd43598}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:35:15 | 200 |   26.346389ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:35:15 [WebSocket] Client [::1]:39136 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:35:15 [WebSocket] Client [::1]:39136 readPump ending, unregistering client
2025/08/01 21:35:15 websocket close message error: websocket: close sent
2025/08/01 21:35:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:35:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:35:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:35:15 [WebSocket] Creating new client with security for [::1]:46224 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:15 [WebSocket] Registering client [::1]:46224 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:15 [WebSocket] Starting read/write pumps for client [::1]:46224 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:35:15 | 200 |    6.700241ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:35:15 [WebSocket] Client [::1]:46224 readPump started
2025/08/01 21:35:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:35:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:35:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:35:15 [WebSocket] Creating new client with security for [::1]:46230 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:15 [WebSocket] Registering client [::1]:46230 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:15 [WebSocket] Starting read/write pumps for client [::1]:46230 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:35:15 | 200 |    2.522479ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:35:15 [WebSocket] Client [::1]:46230 readPump started
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000390400, HTTP: 0xc000390410)
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 3e8912e3-b3fd-44cb-b74d-2e337629f2ce}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:35:15 | 200 |    7.116767ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0005558e0, HTTP: 0xc0005558f0)
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:35:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 9a2b5e88-eddb-4623-bf63-613ca6db1565}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:35:15 | 200 |      4.7979ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:35:15 [WebSocket] Client [::1]:46224 readPump ending, unregistering client
2025/08/01 21:35:15 websocket close message error: websocket: close sent
2025/08/01 21:35:15 [WebSocket] Client [::1]:46230 received: {"type":"connection_init","timestamp":"2025-08-01T21:35:15.821Z"}
2025/08/01 21:35:15 Client [::1]:46230 initialized connection with last sequence: 0
2025/08/01 21:35:15 [WebSocket] Client [::1]:46230 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:35:15.831Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:35:15 Client [::1]:46230 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:35:15 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=6, subscribedClients=4, messagesSent=4
2025/08/01 21:35:15 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=6, subscribedClients=4, messagesSent=4
2025/08/01 21:35:17 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:35:17 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:35:17 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:35:17 [WebSocket] Creating new client with security for [::1]:57458 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:17 [WebSocket] Registering client [::1]:57458 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:17 [WebSocket] Starting read/write pumps for client [::1]:57458 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:35:17 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:35:17 | 200 |      487.23Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:35:17 [WebSocket] Client [::1]:57458 readPump started
2025/08/01 21:35:17 [WebSocket] Client [::1]:57458 received: {"type":"connection_init","timestamp":"2025-08-01T21:35:17.074Z"}
2025/08/01 21:35:17 Client [::1]:57458 initialized connection with last sequence: 0
2025/08/01 21:35:17 [WebSocket] Client [::1]:57458 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:35:17.074Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:35:17 Client [::1]:57458 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:35:17 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57458 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=7, subscribedClients=5, messagesSent=5
2025/08/01 21:35:17 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57458 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:35:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:35:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=7, subscribedClients=5, messagesSent=5
2025/08/01 21:35:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084126682},"timestamp":"2025-08-01T21:35:26.682Z"}
2025/08/01 21:35:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084156681},"timestamp":"2025-08-01T21:35:56.681Z"}
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0002b2670, HTTP: 0xc0002b2680)
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 29b408ce-9c0b-4da4-8bcc-cc6362da1a18}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:36:15 | 200 |    6.726469ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:36:15 [WebSocket] Client [::1]:57458 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:36:15 [WebSocket] Client [::1]:57458 readPump ending, unregistering client
2025/08/01 21:36:15 websocket close message error: websocket: close sent
2025/08/01 21:36:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:36:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:36:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:36:15 [WebSocket] Creating new client with security for [::1]:60966 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:15 [WebSocket] Registering client [::1]:60966 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:15 [WebSocket] Starting read/write pumps for client [::1]:60966 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:36:15 | 200 |    7.601947ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:36:15 [WebSocket] Client [::1]:60966 readPump started
2025/08/01 21:36:15 [WebSocket] Client [::1]:60966 readPump ending, unregistering client
2025/08/01 21:36:15 websocket close message error: websocket: close sent
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0000233d0, HTTP: 0xc0000233e0)
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: f6ab3d91-3067-471c-a237-151f1b964a73}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:36:15 | 200 |     3.92246ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc00030caf0, HTTP: 0xc00030cb00)
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:36:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: d8064e2a-b761-445d-8c4b-6443f8386ed6}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:36:15 | 200 |    4.442062ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:36:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:36:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:36:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:36:15 [WebSocket] Creating new client with security for [::1]:60980 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:15 [WebSocket] Registering client [::1]:60980 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:15 [WebSocket] Starting read/write pumps for client [::1]:60980 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:36:15 | 200 |     208.238Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:36:15 [WebSocket] Client [::1]:60980 readPump started
2025/08/01 21:36:15 [WebSocket] Client [::1]:60980 received: {"type":"connection_init","timestamp":"2025-08-01T21:36:15.654Z"}
2025/08/01 21:36:15 Client [::1]:60980 initialized connection with last sequence: 0
2025/08/01 21:36:15 [WebSocket] Client [::1]:60980 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:36:15.654Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:36:15 Client [::1]:60980 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:36:15 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=7, subscribedClients=5, messagesSent=5
2025/08/01 21:36:15 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=7, subscribedClients=5, messagesSent=5
2025/08/01 21:36:16 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:36:16 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:36:16 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:36:16 [WebSocket] Creating new client with security for [::1]:57764 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:16 [WebSocket] Registering client [::1]:57764 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:16 [WebSocket] Starting read/write pumps for client [::1]:57764 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:36:16 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:36:16 | 200 |     540.011Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:36:16 [WebSocket] Client [::1]:57764 readPump started
2025/08/01 21:36:16 [WebSocket] Client [::1]:57764 received: {"type":"connection_init","timestamp":"2025-08-01T21:36:16.986Z"}
2025/08/01 21:36:16 Client [::1]:57764 initialized connection with last sequence: 0
2025/08/01 21:36:16 [WebSocket] Client [::1]:57764 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:36:16.987Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:36:16 Client [::1]:57764 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:36:16 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:57764 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=8, subscribedClients=6, messagesSent=6
2025/08/01 21:36:16 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:36:16 [DIAGNOSTIC] Successfully sent message to client [::1]:57764 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:36:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:36:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=8, subscribedClients=6, messagesSent=6
2025/08/01 21:36:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084186680},"timestamp":"2025-08-01T21:36:26.680Z"}
2025/08/01 21:36:44 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:36:44 DEBUG [respondWithJSONGin]: Original payload type: *models.User
2025/08/01 21:36:44 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *models.User, requestId: 016a8d14-b24b-478f-ae54-222b80c6799a}
[GIN] 2025/08/01 - 21:36:44 | 200 |    2.330201ms |             ::1 | GET      "/api/v2/auth/me"
2025/08/01 21:36:50 DistributedCacheManager: Hot data preloader cycle started
2025/08/01 21:36:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084216680},"timestamp":"2025-08-01T21:36:56.680Z"}
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000317c60, HTTP: 0xc000317c70)
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 5814c4fb-2dee-436a-9ccd-228abccbccbe}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:37:15 | 200 |     7.24052ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:37:15 [WebSocket] Client [::1]:57764 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:37:15 [WebSocket] Client [::1]:57764 readPump ending, unregistering client
2025/08/01 21:37:15 websocket close message error: websocket: close sent
2025/08/01 21:37:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:37:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:37:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:37:15 [WebSocket] Creating new client with security for [::1]:57668 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:15 [WebSocket] Registering client [::1]:57668 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:15 [WebSocket] Starting read/write pumps for client [::1]:57668 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:37:15 | 200 |   14.498275ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:37:15 [WebSocket] Client [::1]:57668 readPump started
2025/08/01 21:37:15 [WebSocket] Client [::1]:57668 readPump ending, unregistering client
2025/08/01 21:37:15 websocket close message error: websocket: close sent
2025/08/01 21:37:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:37:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:37:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:37:15 [WebSocket] Creating new client with security for [::1]:57678 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:15 [WebSocket] Registering client [::1]:57678 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:15 [WebSocket] Starting read/write pumps for client [::1]:57678 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:37:15 | 200 |    3.526933ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:37:15 [WebSocket] Client [::1]:57678 readPump started
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000554920, HTTP: 0xc000554930)
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 0253c523-b2a8-4c90-bed0-7477691e1982}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:37:15 | 200 |    6.250451ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000728660, HTTP: 0xc000728670)
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:37:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 60222009-2992-4ba2-ada2-334468aadc54}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:37:15 | 200 |    9.330129ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:37:15 [WebSocket] Client [::1]:57678 received: {"type":"connection_init","timestamp":"2025-08-01T21:37:15.673Z"}
2025/08/01 21:37:15 Client [::1]:57678 initialized connection with last sequence: 0
2025/08/01 21:37:15 [WebSocket] Client [::1]:57678 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:37:15.674Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:37:15 Client [::1]:57678 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:37:15 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=8, subscribedClients=6, messagesSent=6
2025/08/01 21:37:15 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=8, subscribedClients=6, messagesSent=6
2025/08/01 21:37:17 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:37:17 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:37:17 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:37:17 [WebSocket] Creating new client with security for [::1]:54450 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:17 [WebSocket] Registering client [::1]:54450 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:17 [WebSocket] Starting read/write pumps for client [::1]:54450 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:37:17 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:37:17 | 200 |    4.764164ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:37:17 [WebSocket] Client [::1]:54450 readPump started
2025/08/01 21:37:17 [WebSocket] Client [::1]:54450 received: {"type":"connection_init","timestamp":"2025-08-01T21:37:17.263Z"}
2025/08/01 21:37:17 Client [::1]:54450 initialized connection with last sequence: 0
2025/08/01 21:37:17 [WebSocket] Client [::1]:54450 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:37:17.265Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:37:17 Client [::1]:54450 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:37:17 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:54450 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=9, subscribedClients=7, messagesSent=7
2025/08/01 21:37:17 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:37:17 [DIAGNOSTIC] Successfully sent message to client [::1]:54450 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:37:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=9, subscribedClients=7, messagesSent=7
2025/08/01 21:37:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084246719},"timestamp":"2025-08-01T21:37:26.719Z"}
2025/08/01 21:37:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084276684},"timestamp":"2025-08-01T21:37:56.684Z"}
2025/08/01 21:38:15 [WebSocket] Client [::1]:54450 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:38:15 [WebSocket] Client [::1]:54450 readPump ending, unregistering client
2025/08/01 21:38:15 websocket close message error: websocket: close sent
{"timestamp":"2025-08-01T21:38:16.147789591Z","level":"INFO","category":"SESSION","operation":"session_validated_slow","userId":"2a244f2a-89a3-4ba6-a917-a09bdc6d379f","sessionId":"60097796877e67f10d20b4cf5ffd28271100e0468ff6822654d14ca33b1b67ff","ipAddress":"::1","success":true,"details":{"cache_hit":true,"idle_time_mins":5.4072397470833335,"session_expiry":"2025-08-02T21:28:39.106114Z","validation_duration_ms":236},"file":"/home/vboxuser/studio/backend/internal/services/session_service.go","line":268,"function":"github.com/fntelecomllc/studio/backend/internal/services.(*SessionService).ValidateSession"}
{"timestamp":"2025-08-01T21:38:16.15742132Z","level":"INFO","category":"SESSION","operation":"session_redis_cache_miss","userId":"2a244f2a-89a3-4ba6-a917-a09bdc6d379f","sessionId":"60097796877e67f10d20b4cf5ffd28271100e0468ff6822654d14ca33b1b67ff","ipAddress":"::1","success":true,"details":{"redis_cache_hit":false,"session_expiry":"2025-08-02T21:28:39.106114Z","validation_duration_ms":734},"file":"/home/vboxuser/studio/backend/internal/services/cached_session_service.go","line":142,"function":"github.com/fntelecomllc/studio/backend/internal/services.(*CachedSessionService).ValidateSession"}
{"timestamp":"2025-08-01T21:38:16.157566995Z","level":"INFO","category":"SESSION","operation":"cached_auth_success_slow","userId":"2a244f2a-89a3-4ba6-a917-a09bdc6d379f","sessionId":"60097796877e67f10d20b4cf5ffd28271100e0468ff6822654d14ca33b1b67ff","ipAddress":"::1","userAgent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","success":true,"details":{"cookie_source":"domainflow_session","path":"/api/v2/campaigns/bulk/enriched-data","session_expiry":"2025-08-02T21:28:39.106114Z","total_duration_ms":735,"validation_duration_ms":735},"file":"/home/vboxuser/studio/backend/internal/middleware/cached_auth_middleware.go","line":198,"function":"main.main.(*CachedAuthMiddleware).FastSessionAuth.func67"}
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0001176e0, HTTP: 0xc0001176f0)
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 656794ca-2091-46ba-b16c-7217c241899e}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:38:16 | 200 |  738.074132ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:38:16 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:38:16 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:38:16 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:38:16 [WebSocket] Creating new client with security for [::1]:43568 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:16 [WebSocket] Registering client [::1]:43568 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:16 [WebSocket] Starting read/write pumps for client [::1]:43568 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:16 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:38:16 | 200 |    3.787772ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:38:16 [WebSocket] Client [::1]:43568 readPump started
2025/08/01 21:38:16 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:38:16 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:38:16 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:38:16 [WebSocket] Creating new client with security for [::1]:43574 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:16 [WebSocket] Registering client [::1]:43574 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:16 [WebSocket] Starting read/write pumps for client [::1]:43574 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:16 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:38:16 | 200 |     468.143Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:38:16 [WebSocket] Client [::1]:43574 readPump started
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:38:16 [WebSocket] Client [::1]:43568 readPump ending, unregistering client
2025/08/01 21:38:16 websocket close message error: websocket: close sent
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000316c70, HTTP: 0xc000316c80)
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 1ccf613b-7008-41fc-8444-f9c851fdc215}
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:38:16 | 200 |    3.389701ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc00030ccf0, HTTP: 0xc00030cd00)
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:38:16 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 68eb36d6-566a-4bfc-9231-6a855b9701d8}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:38:16 | 200 |    4.699263ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:38:16 [WebSocket] Client [::1]:43574 received: {"type":"connection_init","timestamp":"2025-08-01T21:38:16.425Z"}
2025/08/01 21:38:16 Client [::1]:43574 initialized connection with last sequence: 0
2025/08/01 21:38:16 [WebSocket] Client [::1]:43574 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:38:16.426Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:38:16 Client [::1]:43574 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:38:16 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=9, subscribedClients=7, messagesSent=7
2025/08/01 21:38:16 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:16 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:16 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=9, subscribedClients=7, messagesSent=7
2025/08/01 21:38:17 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:38:17 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:38:17 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:38:17 [WebSocket] Creating new client with security for [::1]:37938 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:17 [WebSocket] Registering client [::1]:37938 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:17 [WebSocket] Starting read/write pumps for client [::1]:37938 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:38:17 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:38:17 | 200 |    8.779031ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:38:17 [WebSocket] Client [::1]:37938 readPump started
2025/08/01 21:38:17 [WebSocket] Client [::1]:37938 received: {"type":"connection_init","timestamp":"2025-08-01T21:38:17.303Z"}
2025/08/01 21:38:17 Client [::1]:37938 initialized connection with last sequence: 0
2025/08/01 21:38:17 [WebSocket] Client [::1]:37938 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:38:17.304Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:38:17 Client [::1]:37938 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:38:17 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:37938 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=10, subscribedClients=8, messagesSent=8
2025/08/01 21:38:17 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:37938 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:38:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:38:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=10, subscribedClients=8, messagesSent=8
2025/08/01 21:38:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084306681},"timestamp":"2025-08-01T21:38:26.681Z"}
2025/08/01 21:38:50 DistributedCacheManager: Hot data preloader cycle started
2025/08/01 21:38:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084336681},"timestamp":"2025-08-01T21:38:56.681Z"}
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0004d0ef0, HTTP: 0xc0004d0f00)
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 456cf13a-5bbf-4eea-b6c9-8e4a0333757e}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:39:15 | 200 |   13.921042ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:39:15 [WebSocket] Client [::1]:37938 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:39:15 [WebSocket] Client [::1]:37938 readPump ending, unregistering client
2025/08/01 21:39:15 websocket close message error: websocket: close sent
2025/08/01 21:39:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:39:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:39:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:39:15 [WebSocket] Creating new client with security for [::1]:57624 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:15 [WebSocket] Registering client [::1]:57624 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:15 [WebSocket] Starting read/write pumps for client [::1]:57624 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:39:15 | 200 |   10.108028ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:39:15 [WebSocket] Client [::1]:57624 readPump started
2025/08/01 21:39:15 [WebSocket] Client [::1]:57624 readPump ending, unregistering client
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:39:15 websocket close message error: write tcp [::1]:8080->[::1]:57624: use of closed network connection
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0006f2eb0, HTTP: 0xc0006f2ec0)
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 0884e646-7317-4c4c-af53-cfea13459c47}
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:39:15 | 200 |    4.363174ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc00030d370, HTTP: 0xc00030d380)
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:39:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 9527bd1b-fd52-4e5a-a9bd-9fc36e1a4a12}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:39:15 | 200 |     4.26885ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:39:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:39:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:39:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:39:15 [WebSocket] Creating new client with security for [::1]:57628 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:15 [WebSocket] Registering client [::1]:57628 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:15 [WebSocket] Starting read/write pumps for client [::1]:57628 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:39:15 | 200 |     314.523Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:39:15 [WebSocket] Client [::1]:57628 readPump started
2025/08/01 21:39:15 [WebSocket] Client [::1]:57628 received: {"type":"connection_init","timestamp":"2025-08-01T21:39:15.824Z"}
2025/08/01 21:39:15 Client [::1]:57628 initialized connection with last sequence: 0
2025/08/01 21:39:15 [WebSocket] Client [::1]:57628 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:39:15.824Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:39:15 Client [::1]:57628 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:39:15 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=10, subscribedClients=8, messagesSent=8
2025/08/01 21:39:15 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:39:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=10, subscribedClients=8, messagesSent=8
2025/08/01 21:39:17 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:39:17 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:39:17 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:39:17 [WebSocket] Creating new client with security for [::1]:55554 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:17 [WebSocket] Registering client [::1]:55554 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:17 [WebSocket] Starting read/write pumps for client [::1]:55554 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:39:17 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:39:17 | 200 |     307.077Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:39:17 [WebSocket] Client [::1]:55554 readPump started
2025/08/01 21:39:17 [WebSocket] Client [::1]:55554 received: {"type":"connection_init","timestamp":"2025-08-01T21:39:17.020Z"}
2025/08/01 21:39:17 Client [::1]:55554 initialized connection with last sequence: 0
2025/08/01 21:39:17 [WebSocket] Client [::1]:55554 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:39:17.021Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:39:17 Client [::1]:55554 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:39:17 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:55554 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=11, subscribedClients=9, messagesSent=9
2025/08/01 21:39:17 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:55554 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:39:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:39:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:39:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=11, subscribedClients=9, messagesSent=9
2025/08/01 21:39:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084366680},"timestamp":"2025-08-01T21:39:26.680Z"}
2025/08/01 21:39:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084396686},"timestamp":"2025-08-01T21:39:56.686Z"}
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc0003167b0, HTTP: 0xc0003167c0)
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 7ecf510d-540a-4586-b236-b13bdd5b58cc}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:40:15 | 200 |   20.948934ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:40:15 [WebSocket] Client [::1]:55554 read error: websocket: close 1000 (normal): Normal closure
2025/08/01 21:40:15 [WebSocket] Client [::1]:55554 readPump ending, unregistering client
2025/08/01 21:40:15 websocket close message error: websocket: close sent
2025/08/01 21:40:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:40:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:40:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:40:15 [WebSocket] Creating new client with security for [::1]:40560 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:15 [WebSocket] Registering client [::1]:40560 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:15 [WebSocket] Starting read/write pumps for client [::1]:40560 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:40:15 | 200 |    4.337743ms |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:40:15 [WebSocket] Client [::1]:40560 readPump started
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
2025/08/01 21:40:15 [WebSocket] Client [::1]:40560 readPump ending, unregistering client
2025/08/01 21:40:15 websocket close message error: websocket: close sent
2025/08/01 21:40:15 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:40:15 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:40:15 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:40:15 [WebSocket] Creating new client with security for [::1]:40582 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:15 [WebSocket] Registering client [::1]:40582 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:15 [WebSocket] Starting read/write pumps for client [::1]:40582 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:15 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:40:15 | 200 |     475.116Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:40:15 [WebSocket] Client [::1]:40582 readPump started
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000554760, HTTP: 0xc000554770)
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: eedefe97-2303-491f-8875-40fd4f72e2d4}
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: Query for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, limit 100, lastOffset 0
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:40:15 | 200 |   13.290016ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: Found 10 domains for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 DEBUG [GetGeneratedDomainsByCampaign]: First domain: aircopilot.com (DNS: 0xc000728080, HTTP: 0xc000728090)
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Original payload type: *api.APIResponse
2025/08/01 21:40:15 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *api.APIResponse, requestId: 64b3ba61-2ea5-49ec-afba-b01642b2f1c4}
Response validation warning: field 'validationStatus' must be a valid UUID
[GIN] 2025/08/01 - 21:40:15 | 200 |    8.883943ms |             ::1 | POST     "/api/v2/campaigns/bulk/enriched-data"
2025/08/01 21:40:15 [WebSocket] Client [::1]:40582 received: {"type":"connection_init","timestamp":"2025-08-01T21:40:15.875Z"}
2025/08/01 21:40:15 Client [::1]:40582 initialized connection with last sequence: 0
2025/08/01 21:40:15 [WebSocket] Client [::1]:40582 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:40:15.876Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:40:15 Client [::1]:40582 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:40:15 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:40582 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=11, subscribedClients=9, messagesSent=9
2025/08/01 21:40:15 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:15 [DIAGNOSTIC] Successfully sent message to client [::1]:40582 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:15 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=11, subscribedClients=9, messagesSent=9
2025/08/01 21:40:17 WebSocket origin validation check: origin='http://localhost:3000', gin.Mode='debug'
2025/08/01 21:40:17 WebSocket env debug: ENV='development', DEPLOYMENT_ENVIRONMENT='', DEV_MODE='', NODE_ENV='development'
2025/08/01 21:40:17 WebSocket origin validation: ALLOWED development origin 'http://localhost:3000'
2025/08/01 21:40:17 [WebSocket] Creating new client with security for [::1]:47790 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:17 [WebSocket] Registering client [::1]:47790 with hub (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:17 [WebSocket] Starting read/write pumps for client [::1]:47790 (user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f)
2025/08/01 21:40:17 WebSocket client connected for user: 2a244f2a-89a3-4ba6-a917-a09bdc6d379f (IP: ::1) with session-based authentication
[GIN] 2025/08/01 - 21:40:17 | 200 |     199.605Âµs |             ::1 | GET      "/api/v2/ws"
2025/08/01 21:40:17 [WebSocket] Client [::1]:47790 readPump started
2025/08/01 21:40:17 [WebSocket] Client [::1]:47790 received: {"type":"connection_init","timestamp":"2025-08-01T21:40:17.626Z"}
2025/08/01 21:40:17 Client [::1]:47790 initialized connection with last sequence: 0
2025/08/01 21:40:17 [WebSocket] Client [::1]:47790 received: {"type":"subscribe_campaign","campaignId":"28aa0360-021b-4871-ab96-12cd57b0f5bb","timestamp":"2025-08-01T21:40:17.628Z","CampaignID":"28aa0360-021b-4871-ab96-12cd57b0f5bb"}
2025/08/01 21:40:17 Client [::1]:47790 subscribed to campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb with last sequence: 0
2025/08/01 21:40:17 ðŸ”„ [STATE_SYNC] sendCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 ðŸ”„ [STATE_SYNC] BroadcastCurrentCampaignState called for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 DEBUG GetCampaignByID: About to SELECT campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 DEBUG GetCampaignByID: SELECT SUCCEEDED for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb, retrieved metadata: {"currentOffset": 315, "dns_validation_config": {"name": "DNS Validation - 8/1/2025", "personaIds": ["632cb472-bfae-4de2-afb5-4042e5a963ff"]}, "domain_generation_config": {"tlds": ["com"], "batch_size": 100, "pattern_type": "prefix", "character_set": "abcdefghijklmnopqrstuvwxyz0123456789", "current_offset": 315, "constant_string": "copilot", "variable_length": 3, "num_domains_to_generate": 10, "total_possible_combinations": 46656}}
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:40582 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:47790 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:40:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.progress, totalClients=12, subscribedClients=10, messagesSent=10
2025/08/01 21:40:17 âœ… [STATE_SYNC] Comprehensive campaign state broadcasted for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb: 100.0% complete, phase: domain_generation, status: in_progress
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[]
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:39342 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:35864 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:49566 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:46230 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:40582 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:43574 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:47790 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=false, hasWildcard=false, allSubscriptions=map[8affd664-504c-47ad-91a9-e21b0f2b972f:true]
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:60980 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57678 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] IsSubscribedToCampaign check: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, hasSpecific=true, hasWildcard=false, allSubscriptions=map[28aa0360-021b-4871-ab96-12cd57b0f5bb:true]
2025/08/01 21:40:17 [DIAGNOSTIC] Successfully sent message to client [::1]:57628 for campaign 28aa0360-021b-4871-ab96-12cd57b0f5bb
2025/08/01 21:40:17 [DIAGNOSTIC] BroadcastToCampaign completed: campaignID=28aa0360-021b-4871-ab96-12cd57b0f5bb, messageType=campaign.state.sync.complete, totalClients=12, subscribedClients=10, messagesSent=10
2025/08/01 21:40:26 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084426681},"timestamp":"2025-08-01T21:40:26.681Z"}
2025/08/01 21:40:50 DistributedCacheManager: Hot data preloader cycle started
2025/08/01 21:40:50 DEBUG [respondWithJSONGin]: Wrapping response in APIResponse structure
2025/08/01 21:40:50 DEBUG [respondWithJSONGin]: Original payload type: *models.User
2025/08/01 21:40:50 DEBUG [respondWithJSONGin]: Final response structure: {success: true, data: *models.User, requestId: 011f5037-f92b-49cc-8773-12ab7fc40894}
[GIN] 2025/08/01 - 21:40:50 | 200 |     804.511Âµs |             ::1 | GET      "/api/v2/auth/me"
2025/08/01 21:40:56 [WebSocket] Client [::1]:50772 received: {"type":"ping","payload":{"timestamp":1754084456681},"timestamp":"2025-08-01T21:40:56.681Z"}
