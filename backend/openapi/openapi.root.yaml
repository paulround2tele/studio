openapi: 3.1.0
info:
  title: Domain Flow API
  version: 2.0.0

servers:
  - url: https://api.domainflow.dev/api/v2
    description: Production server
  - url: http://localhost:8080/api/v2
    description: Local development server

tags:
  - name: health
    description: Health and readiness probes
  - name: personas
    description: Manage personas used for browsing and extraction
  - name: proxies
    description: Manage proxies and run health checks
  - name: proxy-pools
    description: Group proxies into pools with weights and timeouts
  - name: server-settings
    description: Server configuration surfaces (auth, logging, worker, rate limit, proxy manager, server)
  - name: keyword-sets
    description: Define and retrieve sets of keywords
  - name: database
    description: Database utilities and bulk queries
  - name: sse
    description: Server-sent event streams for realtime updates

paths:
  $ref: './paths/index.yaml'

components:
  schemas:
  $ref: './components/schemas/all.yaml'
  responses:
    $ref: './components/responses.yaml'
  parameters:
    $ref: './components/parameters.yaml'
  securitySchemes:
    $ref: './components/securitySchemes.yaml'
  examples:
    $ref: './components/examples/sse.yaml'

security:
  - cookieAuth: []
