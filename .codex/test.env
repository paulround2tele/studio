# =============================================================================
# DomainFlow Test Environment Configuration
# =============================================================================
# This file contains environment variables for running tests with Codex
# Uses the same database and configuration as the main application
# =============================================================================

# =============================================================================
# Database Configuration (Same as Production)
# =============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=domainflow_production
DATABASE_USER=domainflow
DATABASE_PASSWORD=pNpTHxEWr2SmY270p1IjGn3dP
DATABASE_SSL_MODE=disable
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5
DB_CONNECTION_LIFETIME=300

# Legacy DB env vars (for compatibility)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=domainflow_production
DB_USER=domainflow
DB_PASSWORD=pNpTHxEWr2SmY270p1IjGn3dP
DB_SSLMODE=disable

# Test Postgres DSN
TEST_POSTGRES_DSN=postgres://domainflow:pNpTHxEWr2SmY270p1IjGn3dP@localhost:5432/domainflow_production?sslmode=disable

# =============================================================================
# Application Configuration
# =============================================================================
# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_WS_URL=ws://localhost:8080/api/v2/ws
FRONTEND_PORT=3000

# Backend Configuration
SERVER_PORT=8080
GIN_MODE=test
API_KEY=dev_641f018600f939b24bb496ea87e6bb2edf1922457a058d5a3aa27a00c7073147_local
LOG_LEVEL=INFO

# =============================================================================
# Test Configuration
# =============================================================================
NODE_ENV=test
ENV=test

# Rate Limiting (Relaxed for Testing)
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST=100

# CORS (Test Environment)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# Test User Credentials
# =============================================================================
# These can be used for automated testing
TEST_USER_EMAIL=test@domainflow.local
TEST_USER_PASSWORD=TestPassword123!

# =============================================================================
# Session-Based Authentication Settings
# =============================================================================
# Note: DomainFlow uses pure session-based authentication
# No roles or permissions - all authenticated users have same access
SESSION_TIMEOUT_MINUTES=30
SESSION_COOKIE_NAME=domainflow_session
SESSION_SECURE=false
SESSION_HTTP_ONLY=true

# =============================================================================
# Test Database Connection Verification
# =============================================================================
# Use these for health checks and connection verification
HEALTH_CHECK_TIMEOUT=5s
DB_PING_TIMEOUT=3s
API_HEALTH_ENDPOINT=http://localhost:8080/api/health
FRONTEND_HEALTH_ENDPOINT=http://localhost:3000/api/health
